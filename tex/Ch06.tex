\begin{coqdoccode}
\end{coqdoccode}
\section{Higher Inductive Types}



 \exerdone{6.1}{217} 
Define concatenation of dependent paths, prove that application of dependent
functions preserves concatenation, and write out the precise induction
principle for the torus $T^{2}$ with its computation rules.


 \soln
I found
\href{http://ncatlab.org/homotopytypetheory/files/torus.pdf}{Kristina
Sojakova's answer posted to the HoTT Google group}
helpful here, though I think my answer differs.


Let $W : \UU$, $P : W \to \UU$, $x, y, z : W$, $u : P(x)$, $v : P(y)$, and $w :
P(z)$ with $p : x = y$ and $q : y = z$.
We define the map
\[
  \ctD : (\dpath{P}{p}{u}{v}) \to (\dpath{P}{q}{v}{w}) \to (\dpath{P}{p \ct q}{u}{w})
\]
by path induction.
\begin{coqdoccode}
\coqdocemptyline
\coqdocnoindent
\coqdockw{Definition} \coqdef{Ch06.concatD}{concatD}{\coqdocdefinition{concatD}} \{\coqdocvar{A}\} \{\coqdocvar{P} : \coqdocvariable{A} \coqexternalref{:type scope:x '->' x}{http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic}{\coqdocnotation{\ensuremath{\rightarrow}}} \coqdockw{Type}\} \{\coqdocvar{x} \coqdocvar{y} \coqdocvar{z} : \coqdocvariable{A}\} \coqdoceol
\coqdocindent{5.50em}
\{\coqdocvar{u} : \coqdocvariable{P} \coqdocvariable{x}\} \{\coqdocvar{v} : \coqdocvariable{P} \coqdocvariable{y}\} \{\coqdocvar{w} : \coqdocvariable{P} \coqdocvariable{z}\}\coqdoceol
\coqdocindent{5.50em}
\{\coqdocvar{p} : \coqdocvariable{x} \coqdocnotation{=} \coqdocvariable{y}\} \{\coqdocvar{q} : \coqdocvariable{y} \coqdocnotation{=} \coqdocvariable{z}\} :\coqdoceol
\coqdocindent{1.00em}
\coqexternalref{:type scope:x '->' x}{http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic}{\coqdocnotation{(}}\coqdocvariable{p} \coqdocnotation{\#} \coqdocvariable{u} \coqdocnotation{=} \coqdocvariable{v}\coqexternalref{:type scope:x '->' x}{http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic}{\coqdocnotation{)}} \coqexternalref{:type scope:x '->' x}{http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic}{\coqdocnotation{\ensuremath{\rightarrow}}} \coqexternalref{:type scope:x '->' x}{http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic}{\coqdocnotation{(}}\coqdocvariable{q} \coqdocnotation{\#} \coqdocvariable{v} \coqdocnotation{=} \coqdocvariable{w}\coqexternalref{:type scope:x '->' x}{http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic}{\coqdocnotation{)}} \coqexternalref{:type scope:x '->' x}{http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic}{\coqdocnotation{\ensuremath{\rightarrow}}} \coqexternalref{:type scope:x '->' x}{http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic}{\coqdocnotation{(}}\coqdocnotation{(}\coqdocvariable{p} \coqdocnotation{@} \coqdocvariable{q}\coqdocnotation{)} \coqdocnotation{\#} \coqdocvariable{u} \coqdocnotation{=} \coqdocvariable{w}\coqexternalref{:type scope:x '->' x}{http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic}{\coqdocnotation{)}}.\coqdoceol
\coqdocindent{1.00em}
\coqdoctac{by} \coqdocvar{path\_induction}.\coqdoceol
\coqdocnoindent
\coqdockw{Defined}.\coqdoceol
\coqdocemptyline
\coqdocnoindent
\coqdockw{Notation} \coqdef{Ch06.:1138}{"}{"}p @D q" := (\coqref{Ch06.concatD}{\coqdocdefinition{concatD}} \coqdocvar{p} \coqdocvar{q})\%\coqdocvar{path} (\coqdoctac{at} \coqdockw{level} 20) : \coqdocvar{path\_scope}.\coqdoceol
\coqdocemptyline
\end{coqdoccode}
\noindent
To prove that application of dependent functions preserves concatenation,
we must show that for any $f : \prd{x:A}P(x)$, $p : x = y$, and $q : y = z$,
\[
  \mapdep{f}{p \ct q} = \mapdep{f}{p} \ctD \mapdep{f}{q}
\]
which is immediate by path induction.
\begin{coqdoccode}
\coqdocemptyline
\coqdocnoindent
\coqdockw{Theorem} \coqdef{Ch06.apD pp}{apD\_pp}{\coqdoclemma{apD\_pp}} \{\coqdocvar{A}\} \{\coqdocvar{P} : \coqdocvariable{A} \coqexternalref{:type scope:x '->' x}{http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic}{\coqdocnotation{\ensuremath{\rightarrow}}} \coqdockw{Type}\} (\coqdocvar{f} : \coqdockw{\ensuremath{\forall}} \coqdocvar{x} : \coqdocvariable{A}, \coqdocvariable{P} \coqdocvariable{x}) \coqdoceol
\coqdocindent{4.00em}
\{\coqdocvar{x} \coqdocvar{y} \coqdocvar{z} : \coqdocvariable{A}\} (\coqdocvar{p} : \coqdocvariable{x} \coqdocnotation{=} \coqdocvariable{y}) (\coqdocvar{q} : \coqdocvariable{y} \coqdocnotation{=} \coqdocvariable{z}) :\coqdoceol
\coqdocindent{1.00em}
\coqdocdefinition{apD} \coqdocvariable{f} (\coqdocvariable{p} \coqdocnotation{@} \coqdocvariable{q}) \coqdocnotation{=} \coqref{Ch06.:path scope:x '@D' x}{\coqdocnotation{(}}\coqdocdefinition{apD} \coqdocvariable{f} \coqdocvariable{p}\coqref{Ch06.:path scope:x '@D' x}{\coqdocnotation{)}} \coqref{Ch06.:path scope:x '@D' x}{\coqdocnotation{@}}\coqref{Ch06.:path scope:x '@D' x}{\coqdocnotation{D}} \coqref{Ch06.:path scope:x '@D' x}{\coqdocnotation{(}}\coqdocdefinition{apD} \coqdocvariable{f} \coqdocvariable{q}\coqref{Ch06.:path scope:x '@D' x}{\coqdocnotation{)}}.\coqdoceol
\coqdocnoindent
\coqdockw{Proof}.\coqdoceol
\coqdocindent{1.00em}
\coqdoctac{by} \coqdocvar{path\_induction}.\coqdoceol
\coqdocnoindent
\coqdockw{Defined}.\coqdoceol
\coqdocemptyline
\end{coqdoccode}
\noindent
Suppose that we have a family $P : T^{2} \to \UU$, a point $b' : P(b)$, paths
$p' : \dpath{P}{p}{b'}{b'}$ and $q' : \dpath{P}{q}{b'}{b'}$ and a 2-path $t' :
\dpath{P}{t}{p' \ctD q'}{q' \ctD p'}$.  Then the induction principle gives a
section $f : \prd{x : T^{2}} P(x)$ such that $f(b) \equiv b'$, $f(p) = p'$, and
$f(q) = q'$.  As discussed in the text, we should also have $\apdtwo{f}{t} =
t'$, but this is not well-typed.  This is because $\apdtwo{f}{t} :
\dpath{P}{t}{f(p \ct q)}{f(q \ct p)}$, in contrast to the type of $t'$, and the
two types are not judgementally equal.


To cast $\apdtwo{f}{t}$ as the right type, note first that, as just proven,
$f(p \ct q) = f(p) \ctD f(q)$, and $f(q \ct p) = f(q) \ctD f(p)$.  The
computation rules for the 1-paths can be lifted as follows.  
Let $r, r' : \dpath{P}{p}{u}{v}$, and $s, s' : \dpath{P}{q}{v}{w}$.  Then we
define a map
\[
  \ctdD : (r = r') \to (s = s') \to (r \ctD s = r' \ctD s')
\]
by path induction.
\begin{coqdoccode}
\coqdocemptyline
\coqdocnoindent
\coqdockw{Definition} \coqdef{Ch06.concat2D}{concat2D}{\coqdocdefinition{concat2D}} \{\coqdocvar{A} : \coqdockw{Type}\} \{\coqdocvar{P} : \coqdocvariable{A} \coqexternalref{:type scope:x '->' x}{http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic}{\coqdocnotation{\ensuremath{\rightarrow}}} \coqdockw{Type}\} \coqdoceol
\coqdocindent{5.50em}
\{\coqdocvar{x} \coqdocvar{y} \coqdocvar{z} : \coqdocvariable{A}\} \{\coqdocvar{p} : \coqdocvariable{x} \coqdocnotation{=} \coqdocvariable{y}\} \{\coqdocvar{q} : \coqdocvariable{y} \coqdocnotation{=} \coqdocvariable{z}\} \coqdoceol
\coqdocindent{5.50em}
\{\coqdocvar{u} : \coqdocvariable{P} \coqdocvariable{x}\} \{\coqdocvar{v} : \coqdocvariable{P} \coqdocvariable{y}\} \{\coqdocvar{w} : \coqdocvariable{P} \coqdocvariable{z}\}\coqdoceol
\coqdocindent{5.50em}
\{\coqdocvar{r} \coqdocvar{r'} : \coqdocvariable{p} \coqdocnotation{\#} \coqdocvariable{u} \coqdocnotation{=} \coqdocvariable{v}\} \{\coqdocvar{s} \coqdocvar{s'} : \coqdocvariable{q} \coqdocnotation{\#} \coqdocvariable{v} \coqdocnotation{=} \coqdocvariable{w}\} :\coqdoceol
\coqdocindent{1.00em}
\coqexternalref{:type scope:x '->' x}{http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic}{\coqdocnotation{(}}\coqdocvariable{r} \coqdocnotation{=} \coqdocvariable{r'}\coqexternalref{:type scope:x '->' x}{http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic}{\coqdocnotation{)}} \coqexternalref{:type scope:x '->' x}{http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic}{\coqdocnotation{\ensuremath{\rightarrow}}} \coqexternalref{:type scope:x '->' x}{http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic}{\coqdocnotation{(}}\coqdocvariable{s} \coqdocnotation{=} \coqdocvariable{s'}\coqexternalref{:type scope:x '->' x}{http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic}{\coqdocnotation{)}} \coqexternalref{:type scope:x '->' x}{http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic}{\coqdocnotation{\ensuremath{\rightarrow}}} \coqexternalref{:type scope:x '->' x}{http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic}{\coqdocnotation{(}}\coqdocvariable{r} \coqref{Ch06.:path scope:x '@D' x}{\coqdocnotation{@}}\coqref{Ch06.:path scope:x '@D' x}{\coqdocnotation{D}} \coqdocvariable{s} \coqdocnotation{=} \coqdocvariable{r'} \coqref{Ch06.:path scope:x '@D' x}{\coqdocnotation{@}}\coqref{Ch06.:path scope:x '@D' x}{\coqdocnotation{D}} \coqdocvariable{s'}\coqexternalref{:type scope:x '->' x}{http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic}{\coqdocnotation{)}}.\coqdoceol
\coqdocindent{1.00em}
\coqdoctac{by} \coqdocvar{path\_induction}.\coqdoceol
\coqdocnoindent
\coqdockw{Defined}.\coqdoceol
\coqdocemptyline
\coqdocnoindent
\coqdockw{Notation} \coqdef{Ch06.:2917}{"}{"}p @@D q" := (\coqref{Ch06.concat2D}{\coqdocdefinition{concat2D}} \coqdocvar{p} \coqdocvar{q})\%\coqdocvar{path} (\coqdoctac{at} \coqdockw{level} 20) : \coqdocvar{path\_scope}.\coqdoceol
\coqdocemptyline
\end{coqdoccode}
\noindent
Thus by the computation rules for $p$ and $q$,
we have for $\alpha : f(p) = p'$ and $\beta : f(q) = q'$,
\begin{align*}
  \alpha \ctdD \beta &: f(p) \ctD f(q) = p' \ctD q' \\
  \beta \ctdD \alpha &: f(q) \ctD f(p) = q' \ctD p'
\end{align*}
At this point it's pretty clear how to assemble the computation rule.
Let $N_{1} : f(p \ct q) = f(p) \ctD f(q)$ and $N_{2} : f(q \ct p) = f(q) \ctD
f(p)$ be two instances of the naturality proof just given.  Then we have
\[
  (\alpha \ctdD \beta)^{-1} \ct N^{-1}_{1} 
  \ct \apdtwo{f}{t}
  \ct (\transtwo{t}{b'} \leftwhisker N_{2})
  \ct (\transtwo{t}{b'} \leftwhisker (\beta \ctdD \alpha))
  :
  \dpath{P}{t}{p' \ctD q'}{q' \ctD p'}
\]
which is the type of $t'$.
\begin{coqdoccode}
\coqdocemptyline
\coqdocnoindent
\coqdockw{Module} \coqdef{Ch06.Torus ex}{Torus\_ex}{\coqdocmodule{Torus\_ex}}.\coqdoceol
\coqdocemptyline
\coqdocnoindent
\coqdocvar{Private} \coqdockw{Inductive} \coqdef{Ch06.Torus ex.T2}{T2}{\coqdocinductive{T2}} : \coqdockw{Type} :=\coqdoceol
\coqdocnoindent
\ensuremath{|} \coqdef{Ch06.Torus ex.Tb}{Tb}{\coqdocconstructor{Tb}} : \coqref{Ch06.T2}{\coqdocinductive{T2}}.\coqdoceol
\coqdocemptyline
\coqdocnoindent
\coqdockw{Axiom} \coqdef{Ch06.Torus ex.Tp}{Tp}{\coqdocaxiom{Tp}} : \coqref{Ch06.Torus ex.Tb}{\coqdocconstructor{Tb}} \coqdocnotation{=} \coqref{Ch06.Torus ex.Tb}{\coqdocconstructor{Tb}}.\coqdoceol
\coqdocnoindent
\coqdockw{Axiom} \coqdef{Ch06.Torus ex.Tq}{Tq}{\coqdocaxiom{Tq}} : \coqref{Ch06.Torus ex.Tb}{\coqdocconstructor{Tb}} \coqdocnotation{=} \coqref{Ch06.Torus ex.Tb}{\coqdocconstructor{Tb}}.\coqdoceol
\coqdocnoindent
\coqdockw{Axiom} \coqdef{Ch06.Torus ex.Tt}{Tt}{\coqdocaxiom{Tt}} : \coqref{Ch06.Torus ex.Tp}{\coqdocaxiom{Tp}} \coqdocnotation{@} \coqref{Ch06.Torus ex.Tq}{\coqdocaxiom{Tq}} \coqdocnotation{=} \coqref{Ch06.Torus ex.Tq}{\coqdocaxiom{Tq}} \coqdocnotation{@} \coqref{Ch06.Torus ex.Tp}{\coqdocaxiom{Tp}}.\coqdoceol
\coqdocemptyline
\coqdocnoindent
\coqdockw{Definition} \coqdef{Ch06.Torus ex.T2 rect}{T2\_rect}{\coqdocdefinition{T2\_rect}} (\coqdocvar{P} : \coqref{Ch06.Torus ex.T2}{\coqdocinductive{T2}} \coqexternalref{:type scope:x '->' x}{http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic}{\coqdocnotation{\ensuremath{\rightarrow}}} \coqdockw{Type}) \coqdoceol
\coqdocindent{5.50em}
(\coqdocvar{b'} : \coqdocvariable{P} \coqref{Ch06.Torus ex.Tb}{\coqdocconstructor{Tb}}) (\coqdocvar{p'} : \coqref{Ch06.Torus ex.Tp}{\coqdocaxiom{Tp}} \coqdocnotation{\#} \coqdocvariable{b'} \coqdocnotation{=} \coqdocvariable{b'}) (\coqdocvar{q'} : \coqref{Ch06.Torus ex.Tq}{\coqdocaxiom{Tq}} \coqdocnotation{\#} \coqdocvariable{b'} \coqdocnotation{=} \coqdocvariable{b'})\coqdoceol
\coqdocindent{5.50em}
(\coqdocvar{t'} : \coqdocvariable{p'} \coqref{Ch06.:path scope:x '@D' x}{\coqdocnotation{@}}\coqref{Ch06.:path scope:x '@D' x}{\coqdocnotation{D}} \coqdocvariable{q'} \coqdocnotation{=} \coqdocnotation{(}\coqdocdefinition{transport2} \coqdocvariable{P} \coqref{Ch06.Torus ex.Tt}{\coqdocaxiom{Tt}} \coqdocvariable{b'}\coqdocnotation{)} \coqdocnotation{@} \coqdocnotation{(}\coqdocvariable{q'} \coqref{Ch06.:path scope:x '@D' x}{\coqdocnotation{@}}\coqref{Ch06.:path scope:x '@D' x}{\coqdocnotation{D}} \coqdocvariable{p'}\coqdocnotation{)})\coqdoceol
\coqdocindent{1.00em}
: \coqdockw{\ensuremath{\forall}} (\coqdocvar{x} : \coqref{Ch06.Torus ex.T2}{\coqdocinductive{T2}}), \coqdocvariable{P} \coqdocvariable{x} :=\coqdoceol
\coqdocindent{1.00em}
\coqdockw{fun} \coqdocvar{x} \ensuremath{\Rightarrow} \coqdockw{match} \coqdocvariable{x} \coqdockw{with} \coqref{Ch06.Torus ex.Tb}{\coqdocconstructor{Tb}} \ensuremath{\Rightarrow} \coqdockw{fun} \coqdocvar{\_} \coqdocvar{\_} \coqdocvar{\_} \ensuremath{\Rightarrow} \coqdocvariable{b'} \coqdockw{end} \coqdocvariable{p'} \coqdocvariable{q'} \coqdocvariable{t'}.\coqdoceol
\coqdocemptyline
\coqdocnoindent
\coqdockw{Axiom} \coqdef{Ch06.Torus ex.T2 rect beta Tp}{T2\_rect\_beta\_Tp}{\coqdocaxiom{T2\_rect\_beta\_Tp}} :\coqdoceol
\coqdocindent{1.00em}
\coqdockw{\ensuremath{\forall}} (\coqdocvar{P} : \coqref{Ch06.Torus ex.T2}{\coqdocinductive{T2}} \coqexternalref{:type scope:x '->' x}{http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic}{\coqdocnotation{\ensuremath{\rightarrow}}} \coqdockw{Type})\coqdoceol
\coqdocindent{4.50em}
(\coqdocvar{b'} : \coqdocvariable{P} \coqref{Ch06.Torus ex.Tb}{\coqdocconstructor{Tb}}) (\coqdocvar{p'} : \coqref{Ch06.Torus ex.Tp}{\coqdocaxiom{Tp}} \coqdocnotation{\#} \coqdocvariable{b'} \coqdocnotation{=} \coqdocvariable{b'}) (\coqdocvar{q'} : \coqref{Ch06.Torus ex.Tq}{\coqdocaxiom{Tq}} \coqdocnotation{\#} \coqdocvariable{b'} \coqdocnotation{=} \coqdocvariable{b'})\coqdoceol
\coqdocindent{4.50em}
(\coqdocvar{t'} : \coqdocvariable{p'} \coqref{Ch06.:path scope:x '@D' x}{\coqdocnotation{@}}\coqref{Ch06.:path scope:x '@D' x}{\coqdocnotation{D}} \coqdocvariable{q'} \coqdocnotation{=} \coqdocnotation{(}\coqdocdefinition{transport2} \coqdocvariable{P} \coqref{Ch06.Torus ex.Tt}{\coqdocaxiom{Tt}} \coqdocvariable{b'}\coqdocnotation{)} \coqdocnotation{@} \coqdocnotation{(}\coqdocvariable{q'} \coqref{Ch06.:path scope:x '@D' x}{\coqdocnotation{@}}\coqref{Ch06.:path scope:x '@D' x}{\coqdocnotation{D}} \coqdocvariable{p'}\coqdocnotation{)}),\coqdoceol
\coqdocindent{2.00em}
\coqdocdefinition{apD} (\coqref{Ch06.Torus ex.T2 rect}{\coqdocdefinition{T2\_rect}} \coqdocvariable{P} \coqdocvariable{b'} \coqdocvariable{p'} \coqdocvariable{q'} \coqdocvariable{t'}) \coqref{Ch06.Torus ex.Tp}{\coqdocaxiom{Tp}} \coqdocnotation{=} \coqdocvariable{p'}.\coqdoceol
\coqdocemptyline
\coqdocnoindent
\coqdockw{Axiom} \coqdef{Ch06.Torus ex.T2 rect beta Tq}{T2\_rect\_beta\_Tq}{\coqdocaxiom{T2\_rect\_beta\_Tq}} :\coqdoceol
\coqdocindent{1.00em}
\coqdockw{\ensuremath{\forall}} (\coqdocvar{P} : \coqref{Ch06.Torus ex.T2}{\coqdocinductive{T2}} \coqexternalref{:type scope:x '->' x}{http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic}{\coqdocnotation{\ensuremath{\rightarrow}}} \coqdockw{Type})\coqdoceol
\coqdocindent{4.50em}
(\coqdocvar{b'} : \coqdocvariable{P} \coqref{Ch06.Torus ex.Tb}{\coqdocconstructor{Tb}}) (\coqdocvar{p'} : \coqref{Ch06.Torus ex.Tp}{\coqdocaxiom{Tp}} \coqdocnotation{\#} \coqdocvariable{b'} \coqdocnotation{=} \coqdocvariable{b'}) (\coqdocvar{q'} : \coqref{Ch06.Torus ex.Tq}{\coqdocaxiom{Tq}} \coqdocnotation{\#} \coqdocvariable{b'} \coqdocnotation{=} \coqdocvariable{b'})\coqdoceol
\coqdocindent{4.50em}
(\coqdocvar{t'} : \coqdocvariable{p'} \coqref{Ch06.:path scope:x '@D' x}{\coqdocnotation{@}}\coqref{Ch06.:path scope:x '@D' x}{\coqdocnotation{D}} \coqdocvariable{q'} \coqdocnotation{=} \coqdocnotation{(}\coqdocdefinition{transport2} \coqdocvariable{P} \coqref{Ch06.Torus ex.Tt}{\coqdocaxiom{Tt}} \coqdocvariable{b'}\coqdocnotation{)} \coqdocnotation{@} \coqdocnotation{(}\coqdocvariable{q'} \coqref{Ch06.:path scope:x '@D' x}{\coqdocnotation{@}}\coqref{Ch06.:path scope:x '@D' x}{\coqdocnotation{D}} \coqdocvariable{p'}\coqdocnotation{)}),\coqdoceol
\coqdocindent{2.00em}
\coqdocdefinition{apD} (\coqref{Ch06.Torus ex.T2 rect}{\coqdocdefinition{T2\_rect}} \coqdocvariable{P} \coqdocvariable{b'} \coqdocvariable{p'} \coqdocvariable{q'} \coqdocvariable{t'}) \coqref{Ch06.Torus ex.Tq}{\coqdocaxiom{Tq}} \coqdocnotation{=} \coqdocvariable{q'}.\coqdoceol
\coqdocemptyline
\coqdocnoindent
\coqdockw{Axiom} \coqdef{Ch06.Torus ex.T2 rect beta Tt}{T2\_rect\_beta\_Tt}{\coqdocaxiom{T2\_rect\_beta\_Tt}} :\coqdoceol
\coqdocindent{1.00em}
\coqdockw{\ensuremath{\forall}} (\coqdocvar{P} : \coqref{Ch06.Torus ex.T2}{\coqdocinductive{T2}} \coqexternalref{:type scope:x '->' x}{http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic}{\coqdocnotation{\ensuremath{\rightarrow}}} \coqdockw{Type})\coqdoceol
\coqdocindent{4.50em}
(\coqdocvar{b'} : \coqdocvariable{P} \coqref{Ch06.Torus ex.Tb}{\coqdocconstructor{Tb}}) (\coqdocvar{p'} : \coqref{Ch06.Torus ex.Tp}{\coqdocaxiom{Tp}} \coqdocnotation{\#} \coqdocvariable{b'} \coqdocnotation{=} \coqdocvariable{b'}) (\coqdocvar{q'} : \coqref{Ch06.Torus ex.Tq}{\coqdocaxiom{Tq}} \coqdocnotation{\#} \coqdocvariable{b'} \coqdocnotation{=} \coqdocvariable{b'})\coqdoceol
\coqdocindent{4.50em}
(\coqdocvar{t'} : \coqdocvariable{p'} \coqref{Ch06.:path scope:x '@D' x}{\coqdocnotation{@}}\coqref{Ch06.:path scope:x '@D' x}{\coqdocnotation{D}} \coqdocvariable{q'} \coqdocnotation{=} \coqdocnotation{(}\coqdocdefinition{transport2} \coqdocvariable{P} \coqref{Ch06.Torus ex.Tt}{\coqdocaxiom{Tt}} \coqdocvariable{b'}\coqdocnotation{)} \coqdocnotation{@} \coqdocnotation{(}\coqdocvariable{q'} \coqref{Ch06.:path scope:x '@D' x}{\coqdocnotation{@}}\coqref{Ch06.:path scope:x '@D' x}{\coqdocnotation{D}} \coqdocvariable{p'}\coqdocnotation{)}),\coqdoceol
\coqdocindent{2.00em}
\coqdocnotation{(}\coqref{Ch06.Torus ex.T2 rect beta Tp}{\coqdocaxiom{T2\_rect\_beta\_Tp}} \coqdocvariable{P} \coqdocvariable{b'} \coqdocvariable{p'} \coqdocvariable{q'} \coqdocvariable{t'} \coqref{Ch06.:path scope:x '@@D' x}{\coqdocnotation{@@}}\coqref{Ch06.:path scope:x '@@D' x}{\coqdocnotation{D}} \coqref{Ch06.Torus ex.T2 rect beta Tq}{\coqdocaxiom{T2\_rect\_beta\_Tq}} \coqdocvariable{P} \coqdocvariable{b'} \coqdocvariable{p'} \coqdocvariable{q'} \coqdocvariable{t'}\coqdocnotation{)\^{}}\coqdoceol
\coqdocindent{2.00em}
\coqdocnotation{@} \coqdocnotation{(}\coqref{Ch06.Torus ex.apD pp}{\coqdoclemma{apD\_pp}} (\coqref{Ch06.Torus ex.T2 rect}{\coqdocdefinition{T2\_rect}} \coqdocvariable{P} \coqdocvariable{b'} \coqdocvariable{p'} \coqdocvariable{q'} \coqdocvariable{t'}) \coqref{Ch06.Torus ex.Tp}{\coqdocaxiom{Tp}} \coqref{Ch06.Torus ex.Tq}{\coqdocaxiom{Tq}}\coqdocnotation{)\^{}} \coqdoceol
\coqdocindent{2.00em}
\coqdocnotation{@} \coqdocnotation{(}\coqdocdefinition{apD02} (\coqref{Ch06.Torus ex.T2 rect}{\coqdocdefinition{T2\_rect}} \coqdocvariable{P} \coqdocvariable{b'} \coqdocvariable{p'} \coqdocvariable{q'} \coqdocvariable{t'}) \coqref{Ch06.Torus ex.Tt}{\coqdocaxiom{Tt}}\coqdocnotation{)}\coqdoceol
\coqdocindent{2.00em}
\coqdocnotation{@} \coqdocnotation{(}\coqdocdefinition{whiskerL} (\coqdocdefinition{transport2} \coqdocvariable{P} \coqref{Ch06.Torus ex.Tt}{\coqdocaxiom{Tt}} (\coqref{Ch06.Torus ex.T2 rect}{\coqdocdefinition{T2\_rect}} \coqdocvariable{P} \coqdocvariable{b'} \coqdocvariable{p'} \coqdocvariable{q'} \coqdocvariable{t'} \coqref{Ch06.Torus ex.Tb}{\coqdocconstructor{Tb}}))\coqdoceol
\coqdocindent{8.00em}
(\coqref{Ch06.Torus ex.apD pp}{\coqdoclemma{apD\_pp}} (\coqref{Ch06.Torus ex.T2 rect}{\coqdocdefinition{T2\_rect}} \coqdocvariable{P} \coqdocvariable{b'} \coqdocvariable{p'} \coqdocvariable{q'} \coqdocvariable{t'}) \coqref{Ch06.Torus ex.Tq}{\coqdocaxiom{Tq}} \coqref{Ch06.Torus ex.Tp}{\coqdocaxiom{Tp}})\coqdocnotation{)}\coqdoceol
\coqdocindent{2.00em}
\coqdocnotation{@} \coqdocnotation{(}\coqdocdefinition{whiskerL} (\coqdocdefinition{transport2} \coqdocvariable{P} \coqref{Ch06.Torus ex.Tt}{\coqdocaxiom{Tt}} (\coqref{Ch06.Torus ex.T2 rect}{\coqdocdefinition{T2\_rect}} \coqdocvariable{P} \coqdocvariable{b'} \coqdocvariable{p'} \coqdocvariable{q'} \coqdocvariable{t'} \coqref{Ch06.Torus ex.Tb}{\coqdocconstructor{Tb}}))\coqdoceol
\coqdocindent{8.00em}
(\coqref{Ch06.Torus ex.T2 rect beta Tq}{\coqdocaxiom{T2\_rect\_beta\_Tq}} \coqdocvariable{P} \coqdocvariable{b'} \coqdocvariable{p'} \coqdocvariable{q'} \coqdocvariable{t'} \coqref{Ch06.:path scope:x '@@D' x}{\coqdocnotation{@@}}\coqref{Ch06.:path scope:x '@@D' x}{\coqdocnotation{D}} \coqref{Ch06.Torus ex.T2 rect beta Tp}{\coqdocaxiom{T2\_rect\_beta\_Tp}} \coqdocvariable{P} \coqdocvariable{b'} \coqdocvariable{p'} \coqdocvariable{q'} \coqdocvariable{t'})\coqdocnotation{)}\coqdoceol
\coqdocindent{2.00em}
\coqdocnotation{=} \coqdocvariable{t'}.\coqdoceol
\coqdocemptyline
\coqdocnoindent
\coqdockw{End} \coqref{Ch06}{\coqdocmodule{Torus\_ex}}.\coqdoceol
\coqdocemptyline
\end{coqdoccode}
\exerdone{6.2}{217} 
Prove that $\susp\Sn^{1} \eqvsym \Sn^{2}$, using the explicit definition of
$\Sn^{2}$ in terms of $\base$ and $\surf$ given in \S6.4.


 \soln
$\Sn^{2}$ is generated by



\begin{itemize}
\item  $\base_{2} : \Sn^{2}$

\item  $\surf : \refl{\base_{2}} = \refl{\base_{2}}$

\end{itemize}
and $\susp\Sn^{1}$ is generated by



\begin{itemize}
\item  $\north : \susp\Sn^{1}$

\item  $\south : \susp\Sn^{1}$

\item  $\merid : \Sn^{1} \to (\north = \south)$.

\end{itemize}
To define a map $f : \susp\Sn^{1} \to \Sn^{2}$, we need a map $m : \Sn^{1} \to
(\base_{2} = \base_{2})$, which we define by circle recursion such that
$m(\base_{1}) \equiv \refl{\base_{2}}$ and $m(\lloop) = \surf$.  Then recursion
on $\susp\Sn^{1}$ gives us our $f$, and we have $f(\north) \equiv \base_{2}$;
$f(\south) \equiv \base_{2}$; and for all $x : \Sn^{1}$, $f(\merid(x)) = m(x)$.


To go the other way, we use the recursion principle for the 2-sphere to obtain
a function $g : \Sn^{2} \to \susp\Sn^{1}$ such that $g(\base_{2}) \equiv
\north$ and $\aptwo{g}{\surf} = \merid(\lloop) \rightwhisker \merid(\base_{1})^{-1}$,
conjugated with proofs that $\merid(\base_{1}) \ct \merid(\base_{1})^{-1} =
\refl{\north}$.


Now, to show that this is an equivalence, we must show that the second map is a
quasi-inverse to the first.  First we show $g \circ f \sim
\idfunc{\susp\Sn^{1}}$.  For the poles we have
\begin{align*}
  g(f(\north)) &\equiv g(\base_{2}) \equiv \north \\
  g(f(\south)) &\equiv g(\base_{2}) \equiv \north
\end{align*}
and concatenating the latter with $\merid(\base_{1})$ gives $g(f(\south)) =
\south$.  Now we must show that for all $y : \Sn^{1}$, these equalities hold as
$x$ varies along $\merid(y)$.  That is, we must produce a path
\[
  \transfib{x \mapsto g(f(x)) = x}{\merid(y)}{\refl{\north}} = \merid(\base_{1})
\]
or, by Theorem 2.11.3 and a bit of path algebra,
\[
  g(m(y))
  =
  \merid(y) \ct \merid(\base_{1})^{-1}
\]
We do this by induction on $\Sn^{1}$.  When $y \equiv \base_{1}$, we have
\[
  g(m(\base_{1})) 
  = 
  g(\refl{\base_{2}}) 
  =
  \refl{\base_{2}}
  =
  \merid(\base_{1}) \ct \merid(\base_{1})^{-1}
\]
When $y$ varies along $\lloop$, we have to show that this proof continues to
hold.  By Theorem 2.11.3 and some path algebra, this in fact
reduces to
\[
  \mapfunc{y \mapsto g(m(y))} \lloop
  =
  \merid(\lloop) \rightwhisker \merid(\base_{1})^{-1}
\]
modulo the proofs of $\merid(\base_{1}) \ct \merid(\base_{1})^{-1} =
\refl{\north}$.  And this is essentially the computation rule for $g$.  Since
the computation rules are propositional some extra proofs have to be carried
around, though; see the second part of \coqref{Ch06.isequiv SS1 to S2}{\coqdoclemma{isequiv\_SS1\_to\_S2}} for the gory details.


To show that $f \circ g \sim \idfunc{\Sn^{2}}$, note that
\[
  f(g(\base_{2})) \equiv f(\north) \equiv \base_{2}
\]
so we only need to show that as $x$ varies over the surface,
\[
  \dpath{x \mapsto f(g(x)) =
  x}{\surf}{\refl{\refl{\base_{2}}}}{\refl{\refl{\base_{2}}}}
\]
which means
\[
 \refl{\refl{\base_{2}}} = \transtwo{\surf}{\refl{\base_{2}}}
  \equiv
  \mapfunc{p \mapsto p_{*} \refl{\base_{2}}}\surf
\]
So we need to show that
\[
  \refl{\refl{\base_{2}}} = \mapfunc{p \mapsto f(g(p^{-1})) \ct p} \surf
\]
which by naturality of $\mapfunc{}$ and the computation rule for $\Sn^{1}$ is
\[
  \refl{\refl{\base_{2}}} 
  =
  \left(\aptwo{f}{\aptwo{g}{\surf}}\right)^{-1}
  \ct
  \surf
\]
Naturality and the computation rules then give
\[
  \aptwo{f}{\aptwo{g}{\surf}} 
  = \aptwo{f}{\merid(\lloop)} 
  = m(\lloop)
  = \surf
\]
and we're done.  The computation in Coq is long, since all of the homotopic
corrections have to be done by hand.  I also spend a lot of moves on making the
interactive version of the proof clear, and those could probably be eliminated.
\begin{coqdoccode}
\coqdocemptyline
\coqdocnoindent
\coqdockw{Lemma} \coqdef{Ch06.ap ap  ap02 ap}{ap\_ap\_\_ap02\_ap}{\coqdoclemma{ap\_ap\_\_ap02\_ap}} \{\coqdocvar{A} \coqdocvar{B} \coqdocvar{C} : \coqdockw{Type}\} \{\coqdocvar{a} : \coqdocvariable{A}\} \{\coqdocvar{b} : \coqdocvariable{B}\} \coqdoceol
\coqdocindent{3.00em}
(\coqdocvar{p} : \coqdocvariable{a} \coqdocnotation{=} \coqdocvariable{a}) (\coqdocvar{f} : \coqdocvariable{B} \coqexternalref{:type scope:x '->' x}{http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic}{\coqdocnotation{\ensuremath{\rightarrow}}} \coqdocvariable{C}) (\coqdocvar{m} : \coqdocvariable{A} \coqexternalref{:type scope:x '->' x}{http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic}{\coqdocnotation{\ensuremath{\rightarrow}}} \coqexternalref{:type scope:x '->' x}{http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic}{\coqdocnotation{(}}\coqdocvariable{b} \coqdocnotation{=} \coqdocvariable{b}\coqexternalref{:type scope:x '->' x}{http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic}{\coqdocnotation{)}}) :\coqdoceol
\coqdocindent{1.00em}
\coqdocdefinition{ap} (\coqdockw{fun} \coqdocvar{x} : \coqdocvariable{A} \ensuremath{\Rightarrow} \coqdocdefinition{ap} \coqdocvariable{f} (\coqdocvariable{m} \coqdocvariable{x})) \coqdocvariable{p} \coqdocnotation{=} \coqdocdefinition{ap02} \coqdocvariable{f} (\coqdocdefinition{ap} \coqdocvariable{m} \coqdocvariable{p}).\coqdoceol
\coqdocnoindent
\coqdockw{Proof}. \coqdoctac{by} \coqdocvar{path\_induction}. \coqdockw{Defined}.\coqdoceol
\coqdocemptyline
\coqdocnoindent
\coqdockw{Lemma} \coqdef{Ch06.whiskerR ap}{whiskerR\_ap}{\coqdoclemma{whiskerR\_ap}} \{\coqdocvar{A} \coqdocvar{B} : \coqdockw{Type}\} \{\coqdocvar{a} : \coqdocvariable{A}\} \{\coqdocvar{b} \coqdocvar{b'} : \coqdocvariable{B}\} \coqdoceol
\coqdocindent{3.00em}
(\coqdocvar{f} : \coqdocvariable{A} \coqexternalref{:type scope:x '->' x}{http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic}{\coqdocnotation{\ensuremath{\rightarrow}}} \coqexternalref{:type scope:x '->' x}{http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic}{\coqdocnotation{(}}\coqdocvariable{b} \coqdocnotation{=} \coqdocvariable{b'}\coqexternalref{:type scope:x '->' x}{http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic}{\coqdocnotation{)}}) (\coqdocvar{p} : \coqdocvariable{a} \coqdocnotation{=} \coqdocvariable{a}) (\coqdocvar{q} : \coqdocvariable{b'} \coqdocnotation{=} \coqdocvariable{b}) :\coqdoceol
\coqdocindent{1.00em}
\coqdocdefinition{whiskerR} (\coqdocdefinition{ap} \coqdocvariable{f} \coqdocvariable{p}) \coqdocvariable{q} \coqdocnotation{=} \coqdocdefinition{ap} (\coqdockw{fun} \coqdocvar{x} \ensuremath{\Rightarrow} \coqdocvariable{f} \coqdocvariable{x} \coqdocnotation{@} \coqdocvariable{q}) \coqdocvariable{p}.\coqdoceol
\coqdocnoindent
\coqdockw{Proof}. \coqdoctac{by} \coqdocvar{path\_induction}. \coqdockw{Defined}.\coqdoceol
\coqdocemptyline
\coqdocnoindent
\coqdockw{Definition} \coqdef{Ch06.SS1 to S2}{SS1\_to\_S2}{\coqdocdefinition{SS1\_to\_S2}} := \coqdocdefinition{Susp\_rect\_nd} \coqdocconstructor{base} \coqdocconstructor{base} (\coqdocdefinition{S1\_rectnd} (\coqdocconstructor{base} \coqdocnotation{=} \coqdocconstructor{base}) 1 \coqdocaxiom{surf}).\coqdoceol
\coqdocemptyline
\coqdocnoindent
\coqdockw{Definition} \coqdef{Ch06.S2 to SS1}{S2\_to\_SS1}{\coqdocdefinition{S2\_to\_SS1}} := \coqdoceol
\coqdocindent{1.00em}
\coqdocdefinition{S2\_rectnd} (\coqdocinductive{Susp} \coqdocinductive{S1}) \coqdocconstructor{North}\coqdoceol
\coqdocindent{6.00em}
\coqdocnotation{((}\coqdocdefinition{concat\_pV} (\coqdocaxiom{merid} \coqdocconstructor{Circle.base})\coqdocnotation{)\^{}}\coqdoceol
\coqdocindent{6.50em}
\coqdocnotation{@} \coqdocnotation{(}\coqdocdefinition{whiskerR} (\coqdocdefinition{ap} \coqdocaxiom{merid} \coqdocaxiom{loop}) \coqdocnotation{(}\coqdocaxiom{merid} \coqdocconstructor{Circle.base}\coqdocnotation{)\^{}}\coqdocnotation{)}\coqdoceol
\coqdocindent{6.50em}
\coqdocnotation{@} \coqdocnotation{(}\coqdocdefinition{concat\_pV} (\coqdocaxiom{merid} \coqdocconstructor{Circle.base})\coqdocnotation{)}\coqdocnotation{)\^{}}.\coqdoceol
\coqdocemptyline
\coqdocnoindent
\coqdockw{Lemma} \coqdef{Ch06.ap concat}{ap\_concat}{\coqdoclemma{ap\_concat}} (\coqdocvar{A} \coqdocvar{B} : \coqdockw{Type}) (\coqdocvar{a} : \coqdocvariable{A}) (\coqdocvar{b} \coqdocvar{b'} \coqdocvar{b'{}'} : \coqdocvariable{B}) (\coqdocvar{p} : \coqdocvariable{a} \coqdocnotation{=} \coqdocvariable{a}) \coqdoceol
\coqdocindent{3.00em}
(\coqdocvar{f} : \coqdocvariable{A} \coqexternalref{:type scope:x '->' x}{http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic}{\coqdocnotation{\ensuremath{\rightarrow}}} \coqexternalref{:type scope:x '->' x}{http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic}{\coqdocnotation{(}}\coqdocvariable{b} \coqdocnotation{=} \coqdocvariable{b'}\coqexternalref{:type scope:x '->' x}{http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic}{\coqdocnotation{)}}) (\coqdocvar{g} : \coqdocvariable{A} \coqexternalref{:type scope:x '->' x}{http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic}{\coqdocnotation{\ensuremath{\rightarrow}}} \coqexternalref{:type scope:x '->' x}{http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic}{\coqdocnotation{(}}\coqdocvariable{b'} \coqdocnotation{=} \coqdocvariable{b'{}'}\coqexternalref{:type scope:x '->' x}{http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic}{\coqdocnotation{)}}) :\coqdoceol
\coqdocindent{1.00em}
\coqdocdefinition{ap} (\coqdockw{fun} \coqdocvar{x} \ensuremath{\Rightarrow} \coqdocvariable{f} \coqdocvariable{x} \coqdocnotation{@} \coqdocvariable{g} \coqdocvariable{x}) \coqdocvariable{p} \coqdocnotation{=} \coqdocnotation{(}\coqdocdefinition{ap} \coqdocvariable{f} \coqdocvariable{p}\coqdocnotation{)} \coqdocnotation{@@} \coqdocnotation{(}\coqdocdefinition{ap} \coqdocvariable{g} \coqdocvariable{p}\coqdocnotation{)}.\coqdoceol
\coqdocnoindent
\coqdockw{Proof}. \coqdoctac{by} \coqdocvar{path\_induction}. \coqdockw{Defined}.\coqdoceol
\coqdocemptyline
\coqdocnoindent
\coqdockw{Definition} \coqdef{Ch06.concat2 V2p}{concat2\_V2p}{\coqdocdefinition{concat2\_V2p}} \{\coqdocvar{A} : \coqdockw{Type}\} \{\coqdocvar{x} \coqdocvar{y} : \coqdocvariable{A}\} \{\coqdocvar{p} \coqdocvar{q} : \coqdocvariable{x} \coqdocnotation{=} \coqdocvariable{y}\} (\coqdocvar{r} : \coqdocvariable{p} \coqdocnotation{=} \coqdocvariable{q}) :\coqdoceol
\coqdocindent{1.00em}
\coqdocnotation{(}\coqdocdefinition{concat\_Vp} \coqdocvar{\_}\coqdocnotation{)\^{}} \coqdocnotation{@} \coqdocnotation{(}\coqdocdefinition{inverse2} \coqdocvariable{r} \coqdocnotation{@@} \coqdocvariable{r}\coqdocnotation{)} \coqdocnotation{@} \coqdocnotation{(}\coqdocdefinition{concat\_Vp} \coqdocvar{\_}\coqdocnotation{)} \coqdocnotation{=} 1.\coqdoceol
\coqdocnoindent
\coqdockw{Proof}. \coqdoctac{by} \coqdocvar{path\_induction}. \coqdockw{Defined}.\coqdoceol
\coqdocemptyline
\coqdocnoindent
\coqdockw{Definition} \coqdef{Ch06.ap inv}{ap\_inv}{\coqdocdefinition{ap\_inv}} \{\coqdocvar{A} \coqdocvar{B} : \coqdockw{Type}\} \{\coqdocvar{a} : \coqdocvariable{A}\} \{\coqdocvar{b} : \coqdocvariable{B}\} (\coqdocvar{p} : \coqdocvariable{a} \coqdocnotation{=} \coqdocvariable{a}) (\coqdocvar{m} : \coqdocvariable{A} \coqexternalref{:type scope:x '->' x}{http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic}{\coqdocnotation{\ensuremath{\rightarrow}}} \coqexternalref{:type scope:x '->' x}{http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic}{\coqdocnotation{(}}\coqdocvariable{b} \coqdocnotation{=} \coqdocvariable{b}\coqexternalref{:type scope:x '->' x}{http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic}{\coqdocnotation{)}}):\coqdoceol
\coqdocindent{1.00em}
\coqdocdefinition{ap} (\coqdockw{fun} \coqdocvar{x} : \coqdocvariable{A} \ensuremath{\Rightarrow} \coqdocnotation{(}\coqdocvariable{m} \coqdocvariable{x}\coqdocnotation{)\^{}}) \coqdocvariable{p} \coqdocnotation{=} \coqdocdefinition{inverse2} (\coqdocdefinition{ap} \coqdocvariable{m} \coqdocvariable{p}).\coqdoceol
\coqdocnoindent
\coqdockw{Proof}. \coqdoctac{by} \coqdocvar{path\_induction}. \coqdockw{Defined}.\coqdoceol
\coqdocemptyline
\coqdocnoindent
\coqdockw{Lemma} \coqdef{Ch06.bar}{bar}{\coqdoclemma{bar}} (\coqdocvar{A} \coqdocvar{B} \coqdocvar{C} : \coqdockw{Type}) (\coqdocvar{b} \coqdocvar{b'} : \coqdocvariable{B}) (\coqdocvar{m} : \coqdocvariable{A} \coqexternalref{:type scope:x '->' x}{http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic}{\coqdocnotation{\ensuremath{\rightarrow}}} \coqexternalref{:type scope:x '->' x}{http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic}{\coqdocnotation{(}}\coqdocvariable{b} \coqdocnotation{=} \coqdocvariable{b'}\coqexternalref{:type scope:x '->' x}{http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic}{\coqdocnotation{)}}) (\coqdocvar{f} : \coqdocvariable{B} \coqexternalref{:type scope:x '->' x}{http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic}{\coqdocnotation{\ensuremath{\rightarrow}}} \coqdocvariable{C}) \coqdoceol
\coqdocindent{3.00em}
(\coqdocvar{a} : \coqdocvariable{A}) (\coqdocvar{p} : \coqdocvariable{a} \coqdocnotation{=} \coqdocvariable{a}) :\coqdoceol
\coqdocindent{1.00em}
\coqdocdefinition{ap} (\coqdockw{fun} \coqdocvar{x} : \coqdocvariable{A} \ensuremath{\Rightarrow} \coqdocdefinition{ap} \coqdocvariable{f} (\coqdocvariable{m} \coqdocvariable{x})) \coqdocvariable{p} \coqdocnotation{=} \coqdocdefinition{ap02} \coqdocvariable{f} (\coqdocdefinition{ap} \coqdocvariable{m} \coqdocvariable{p}).\coqdoceol
\coqdocnoindent
\coqdockw{Proof}.\coqdoceol
\coqdocindent{1.00em}
\coqdoctac{by} \coqdocvar{path\_induction}.\coqdoceol
\coqdocnoindent
\coqdockw{Defined}.\coqdoceol
\coqdocemptyline
\coqdocnoindent
\coqdockw{Definition} \coqdef{Ch06.ap03}{ap03}{\coqdocdefinition{ap03}} \{\coqdocvar{A} \coqdocvar{B} : \coqdockw{Type}\} (\coqdocvar{f} : \coqdocvariable{A} \coqexternalref{:type scope:x '->' x}{http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic}{\coqdocnotation{\ensuremath{\rightarrow}}} \coqdocvariable{B}) \{\coqdocvar{x} \coqdocvar{y} : \coqdocvariable{A}\} \coqdoceol
\coqdocindent{5.50em}
\{\coqdocvar{p} \coqdocvar{q} : \coqdocvariable{x} \coqdocnotation{=} \coqdocvariable{y}\} \{\coqdocvar{r} \coqdocvar{s} : \coqdocvariable{p} \coqdocnotation{=} \coqdocvariable{q}\} (\coqdocvar{t} : \coqdocvariable{r} \coqdocnotation{=} \coqdocvariable{s}) :\coqdoceol
\coqdocindent{1.00em}
\coqdocdefinition{ap02} \coqdocvariable{f} \coqdocvariable{r} \coqdocnotation{=} \coqdocdefinition{ap02} \coqdocvariable{f} \coqdocvariable{s}\coqdoceol
\coqdocindent{1.00em}
:= \coqdockw{match} \coqdocvariable{t} \coqdockw{with} \coqdocconstructor{idpath} \ensuremath{\Rightarrow} 1 \coqdockw{end}.\coqdoceol
\coqdocemptyline
\coqdocnoindent
\coqdockw{Definition} \coqdef{Ch06.ap pp pV}{ap\_pp\_pV}{\coqdocdefinition{ap\_pp\_pV}} \{\coqdocvar{A} \coqdocvar{B} : \coqdockw{Type}\} (\coqdocvar{f} : \coqdocvariable{A} \coqexternalref{:type scope:x '->' x}{http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic}{\coqdocnotation{\ensuremath{\rightarrow}}} \coqdocvariable{B}) \coqdoceol
\coqdocindent{5.50em}
\{\coqdocvar{x} \coqdocvar{y} : \coqdocvariable{A}\} (\coqdocvar{p} : \coqdocvariable{x} \coqdocnotation{=} \coqdocvariable{y}) :\coqdoceol
\coqdocindent{1.00em}
\coqdocdefinition{ap\_pp} \coqdocvariable{f} \coqdocvariable{p} \coqdocvariable{p}\coqdocnotation{\^{}} \coqdoceol
\coqdocindent{1.00em}
\coqdocnotation{=} \coqdocnotation{(}\coqdocdefinition{ap02} \coqdocvariable{f} \coqdocnotation{(}\coqdocdefinition{concat\_pV} \coqdocvariable{p}\coqdocnotation{)\^{})\^{}} \coqdocnotation{@} \coqdocnotation{(}\coqdocdefinition{concat\_pV} (\coqdocdefinition{ap} \coqdocvariable{f} \coqdocvariable{p})\coqdocnotation{)\^{}} \coqdocnotation{@} \coqdocnotation{(}1 \coqdocnotation{@@} \coqdocnotation{(}\coqdocdefinition{ap\_V} \coqdocvariable{f} \coqdocvariable{p}\coqdocnotation{)}\coqdocnotation{)\^{}}.\coqdoceol
\coqdocnoindent
\coqdockw{Proof}.\coqdoceol
\coqdocindent{1.00em}
\coqdoctac{by} \coqdocvar{path\_induction}.\coqdoceol
\coqdocnoindent
\coqdockw{Defined}.\coqdoceol
\coqdocemptyline
\coqdocnoindent
\coqdockw{Definition} \coqdef{Ch06.ap02 V}{ap02\_V}{\coqdocdefinition{ap02\_V}} \{\coqdocvar{A} \coqdocvar{B} : \coqdockw{Type}\} (\coqdocvar{f} : \coqdocvariable{A} \coqexternalref{:type scope:x '->' x}{http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic}{\coqdocnotation{\ensuremath{\rightarrow}}} \coqdocvariable{B})\coqdoceol
\coqdocindent{5.50em}
\{\coqdocvar{x} \coqdocvar{y} : \coqdocvariable{A}\} \{\coqdocvar{p} \coqdocvar{q} : \coqdocvariable{x} \coqdocnotation{=} \coqdocvariable{y}\} (\coqdocvar{r} : \coqdocvariable{p} \coqdocnotation{=} \coqdocvariable{q}) :\coqdoceol
\coqdocindent{1.00em}
\coqdocdefinition{ap02} \coqdocvariable{f} \coqdocvariable{r}\coqdocnotation{\^{}} \coqdocnotation{=} \coqdocnotation{(}\coqdocdefinition{ap02} \coqdocvariable{f} \coqdocvariable{r}\coqdocnotation{)\^{}}.\coqdoceol
\coqdocnoindent
\coqdockw{Proof}. \coqdoctac{by} \coqdocvar{path\_induction}. \coqdockw{Defined}.\coqdoceol
\coqdocemptyline
\coqdocnoindent
\coqdockw{Definition} \coqdef{Ch06.inv p2p}{inv\_p2p}{\coqdocdefinition{inv\_p2p}} \{\coqdocvar{A} : \coqdockw{Type}\} \{\coqdocvar{x} \coqdocvar{y} \coqdocvar{z} : \coqdocvariable{A}\} \coqdoceol
\coqdocindent{5.50em}
\{\coqdocvar{p} \coqdocvar{p'} : \coqdocvariable{x} \coqdocnotation{=} \coqdocvariable{y}\} \{\coqdocvar{q} \coqdocvar{q'} : \coqdocvariable{y} \coqdocnotation{=} \coqdocvariable{z}\} (\coqdocvar{r} : \coqdocvariable{p} \coqdocnotation{=} \coqdocvariable{p'}) (\coqdocvar{s} : \coqdocvariable{q} \coqdocnotation{=} \coqdocvariable{q'}) :\coqdoceol
\coqdocindent{1.00em}
\coqdocnotation{(}\coqdocvariable{r} \coqdocnotation{@@} \coqdocvariable{s}\coqdocnotation{)\^{}} \coqdocnotation{=} \coqdocvariable{r}\coqdocnotation{\^{}} \coqdocnotation{@@} \coqdocvariable{s}\coqdocnotation{\^{}}.\coqdoceol
\coqdocnoindent
\coqdockw{Proof}. \coqdoctac{by} \coqdocvar{path\_induction}. \coqdockw{Defined}.\coqdoceol
\coqdocemptyline
\coqdocnoindent
\coqdockw{Definition} \coqdef{Ch06.baz}{baz}{\coqdocdefinition{baz}} \{\coqdocvar{A} : \coqdockw{Type}\} \{\coqdocvar{x} \coqdocvar{y} : \coqdocvariable{A}\} \{\coqdocvar{p} \coqdocvar{q} : \coqdocvariable{x} \coqdocnotation{=} \coqdocvariable{y}\} (\coqdocvar{r} : \coqdocvariable{p} \coqdocnotation{=} \coqdocvariable{q}) : \coqdoceol
\coqdocindent{1.00em}
\coqdocdefinition{concat\_pV} \coqdocvariable{p} \coqdocnotation{=} \coqdocnotation{(}\coqdocvariable{r} \coqdocnotation{@@} \coqdocdefinition{inverse2} \coqdocvariable{r}\coqdocnotation{)} \coqdocnotation{@} \coqdocdefinition{concat\_pV} \coqdocvariable{q}.\coqdoceol
\coqdocnoindent
\coqdockw{Proof}. \coqdoctac{by} \coqdocvar{path\_induction}. \coqdockw{Defined}.\coqdoceol
\coqdocemptyline
\coqdocnoindent
\coqdockw{Theorem} \coqdef{Ch06.isequiv SS1 to S2}{isequiv\_SS1\_to\_S2}{\coqdoclemma{isequiv\_SS1\_to\_S2}} : \coqdocclass{IsEquiv} (\coqref{Ch06.SS1 to S2}{\coqdocdefinition{SS1\_to\_S2}}).\coqdoceol
\coqdocnoindent
\coqdockw{Proof}.\coqdoceol
\coqdocindent{1.00em}
\coqdoctac{apply} \coqdocdefinition{isequiv\_adjointify} \coqdockw{with} \coqref{Ch06.S2 to SS1}{\coqdocdefinition{S2\_to\_SS1}}.\coqdoceol
\coqdocemptyline
\coqdocindent{1.00em}
\begin{coqdoccomment}
\coqdocindent{0.50em}
SS1\_to\_S2\coqdocindent{0.50em}
o\coqdocindent{0.50em}
S2\_to\_SS1\coqdocindent{0.50em}
==\coqdocindent{0.50em}
id\coqdocindent{0.50em}
\end{coqdoccomment}
\coqdoceol
\coqdocindent{1.00em}
\coqdoctac{refine} (\coqdocdefinition{S2\_rect} (\coqdockw{fun} \coqdocvar{x} \ensuremath{\Rightarrow} \coqref{Ch06.SS1 to S2}{\coqdocdefinition{SS1\_to\_S2}} (\coqref{Ch06.S2 to SS1}{\coqdocdefinition{S2\_to\_SS1}} \coqdocvariable{x}) \coqdocnotation{=} \coqdocvariable{x}) 1 \coqdocvar{\_}).\coqdoceol
\coqdocindent{1.00em}
\coqdoctac{unfold} \coqdocdefinition{transport2}.\coqdoceol
\coqdocindent{1.00em}
\coqdocvar{transparent} \coqdoctac{assert} (\coqdocvar{H} : (\coqdockw{\ensuremath{\forall}} \coqdocvar{p} : \coqdocconstructor{base} \coqdocnotation{=} \coqdocconstructor{base},\coqdoceol
\coqdocindent{3.00em}
(\coqdockw{fun} \coqdocvar{p'} : \coqdocconstructor{base} \coqdocnotation{=} \coqdocconstructor{base} \ensuremath{\Rightarrow} \coqdocdefinition{transport} (\coqdockw{fun} \coqdocvar{x} \ensuremath{\Rightarrow} \coqref{Ch06.SS1 to S2}{\coqdocdefinition{SS1\_to\_S2}} (\coqref{Ch06.S2 to SS1}{\coqdocdefinition{S2\_to\_SS1}} \coqdocvariable{x}) \coqdocnotation{=} \coqdocvariable{x}) \coqdocvariable{p'} 1) \coqdocvariable{p}\coqdoceol
\coqdocindent{3.00em}
\coqdocnotation{=}\coqdoceol
\coqdocindent{3.00em}
(\coqdockw{fun} \coqdocvar{p'} : \coqdocconstructor{base} \coqdocnotation{=} \coqdocconstructor{base} \ensuremath{\Rightarrow} \coqdocdefinition{ap} \coqref{Ch06.SS1 to S2}{\coqdocdefinition{SS1\_to\_S2}} (\coqdocdefinition{ap} \coqref{Ch06.S2 to SS1}{\coqdocdefinition{S2\_to\_SS1}} \coqdocvariable{p'}\coqdocnotation{\^{}}) \coqdocnotation{@} \coqdocvariable{p'}) \coqdocvariable{p}\coqdoceol
\coqdocindent{1.00em}
)).\coqdoceol
\coqdocindent{1.00em}
\coqdoctac{intros}. \coqdoctac{refine} (\coqdocnotation{(}\coqdocdefinition{transport\_paths\_FFlr} \coqdocvar{\_} \coqdocvar{\_}\coqdocnotation{)} \coqdocnotation{@} \coqdocvar{\_}).\coqdoceol
\coqdocindent{1.00em}
\coqdoctac{apply} \coqdocdefinition{whiskerR}. \coqdoctac{refine} (\coqdocnotation{(}\coqdocdefinition{concat\_p1} \coqdocvar{\_}\coqdocnotation{)} \coqdocnotation{@} \coqdocvar{\_}).\coqdoceol
\coqdocindent{1.00em}
\coqdoctac{refine} (\coqdocnotation{(}\coqdocdefinition{ap\_V} \coqref{Ch06.SS1 to S2}{\coqdocdefinition{SS1\_to\_S2}} (\coqdocdefinition{ap} \coqref{Ch06.S2 to SS1}{\coqdocdefinition{S2\_to\_SS1}} \coqdocvar{p})\coqdocnotation{)\^{}} \coqdocnotation{@} \coqdocvar{\_}). \coqdocvar{f\_ap}.\coqdoceol
\coqdocindent{1.00em}
\coqdoctac{apply} \coqdocnotation{(}\coqdocdefinition{ap\_V} \coqdocvar{\_} \coqdocvar{\_}\coqdocnotation{)\^{}}.\coqdoceol
\coqdocindent{1.00em}
\coqdoctac{transitivity} (\coqdocnotation{(}\coqdocvar{H} 1\coqdocnotation{)} \coqdoceol
\coqdocindent{8.00em}
\coqdocnotation{@} \coqdocdefinition{ap} (\coqdockw{fun} \coqdocvar{p} : \coqdocconstructor{base} \coqdocnotation{=} \coqdocconstructor{base} \ensuremath{\Rightarrow} \coqdocdefinition{ap} \coqref{Ch06.SS1 to S2}{\coqdocdefinition{SS1\_to\_S2}} (\coqdocdefinition{ap} \coqref{Ch06.S2 to SS1}{\coqdocdefinition{S2\_to\_SS1}} \coqdocvariable{p}\coqdocnotation{\^{}}) \coqdocnotation{@} \coqdocvariable{p}) \coqdocaxiom{surf}\coqdoceol
\coqdocindent{8.00em}
\coqdocnotation{@} \coqdocnotation{(}\coqdocvar{H} 1\coqdocnotation{)\^{}}).\coqdoceol
\coqdocindent{1.00em}
\coqdoctac{apply} \coqdocdefinition{moveL\_pV}.\coqdoceol
\coqdocindent{1.00em}
\coqdoctac{apply} (@\coqdocdefinition{concat\_Ap} \coqdocvar{\_} \coqdocvar{\_} \coqdocvar{\_} \coqdocvar{\_} \coqdocvar{H} \coqdocvar{\_} \coqdocvar{\_} \coqdocvar{\_}).\coqdoceol
\coqdocindent{1.00em}
\coqdocvar{hott\_simpl}. \coqdoctac{clear} \coqdocvar{H}.\coqdoceol
\coqdocindent{1.00em}
\coqdoctac{transitivity} (\coqdocdefinition{ap} (\coqdockw{fun} \coqdocvar{p} : \coqdocconstructor{base} \coqdocnotation{=} \coqdocconstructor{base} \ensuremath{\Rightarrow} \coqdocdefinition{ap} \coqref{Ch06.SS1 to S2}{\coqdocdefinition{SS1\_to\_S2}} (\coqdocdefinition{ap} \coqref{Ch06.S2 to SS1}{\coqdocdefinition{S2\_to\_SS1}} \coqdocvariable{p}\coqdocnotation{\^{}}) \coqdocnotation{@} \coqdocvariable{p}) \coqdoceol
\coqdocindent{9.50em}
(\coqdocdefinition{ap} (\coqdocdefinition{S1\_rectnd} (\coqdocconstructor{base} \coqdocnotation{=} \coqdocconstructor{base}) 1 \coqdocaxiom{surf}) \coqdocaxiom{loop})).\coqdoceol
\coqdocindent{1.00em}
\coqdocvar{f\_ap}. \coqdoctac{apply} \coqdocnotation{(}\coqdocdefinition{S1\_rectnd\_beta\_loop} \coqdocvar{\_} \coqdocvar{\_} \coqdocvar{\_}\coqdocnotation{)\^{}}.\coqdoceol
\coqdocindent{1.00em}
\coqdoctac{refine} (\coqdocnotation{(}\coqdocdefinition{ap\_compose} \coqdocvar{\_} \coqdocvar{\_} \coqdocvar{\_}\coqdocnotation{)\^{}} \coqdocnotation{@} \coqdocvar{\_}). \coqdoctac{unfold} \coqdocdefinition{compose}.\coqdoceol
\coqdocindent{1.00em}
\coqdoctac{refine} (\coqdocnotation{(}\coqref{Ch06.ap concat}{\coqdoclemma{ap\_concat}} \coqdocinductive{S1} \coqdocvar{\_} \coqdocvar{\_} \coqdocvar{\_} \coqdocvar{\_} \coqdocvar{\_} \coqdocvar{\_} \coqdocvar{\_} \coqdocvar{\_}\coqdocnotation{)} \coqdocnotation{@} \coqdocvar{\_}).\coqdoceol
\coqdocindent{1.00em}
\coqdoctac{transitivity} (\coqdocdefinition{ap} (\coqdockw{fun} \coqdocvar{x} : \coqdocinductive{S1} \ensuremath{\Rightarrow} \coqdoceol
\coqdocindent{11.00em}
\coqdocdefinition{ap} \coqref{Ch06.SS1 to S2}{\coqdocdefinition{SS1\_to\_S2}} (\coqdocdefinition{ap} \coqref{Ch06.S2 to SS1}{\coqdocdefinition{S2\_to\_SS1}} \coqdocnotation{(}\coqdocdefinition{S1\_rectnd} (\coqdocconstructor{base} \coqdocnotation{=} \coqdocconstructor{base}) 1 \coqdocaxiom{surf} \coqdocvariable{x}\coqdocnotation{)\^{}})) \coqdocaxiom{loop} \coqdoceol
\coqdocindent{9.50em}
\coqdocnotation{@@} \coqdocaxiom{surf}).\coqdoceol
\coqdocindent{1.00em}
\coqdocvar{f\_ap}. \coqdoctac{apply} \coqdocdefinition{S1\_rectnd\_beta\_loop}.\coqdoceol
\coqdocindent{1.00em}
\coqdoctac{refine} (\coqdocvar{\_} \coqdocnotation{@} \coqdocnotation{(}\coqref{Ch06.concat2 V2p}{\coqdocdefinition{concat2\_V2p}} \coqdocaxiom{surf}\coqdocnotation{)}). \coqdocvar{hott\_simpl}. \coqdocvar{f\_ap}.\coqdoceol
\coqdocemptyline
\coqdocindent{1.00em}
\begin{coqdoccomment}
\coqdocindent{0.50em}
invert\coqdocindent{0.50em}
the\coqdocindent{0.50em}
equation\coqdocindent{0.50em}
\end{coqdoccomment}
\coqdoceol
\coqdocindent{1.00em}
\coqdocvar{transparent} \coqdoctac{assert} (\coqdocvar{H} : (\coqdoceol
\coqdocindent{2.00em}
\coqdockw{\ensuremath{\forall}} \coqdocvar{x} : \coqdocinductive{S1}, \coqdoceol
\coqdocindent{3.00em}
\coqdocdefinition{ap} \coqref{Ch06.SS1 to S2}{\coqdocdefinition{SS1\_to\_S2}} (\coqdocdefinition{ap} \coqref{Ch06.S2 to SS1}{\coqdocdefinition{S2\_to\_SS1}} \coqdocnotation{(}\coqdocdefinition{S1\_rectnd} (\coqdocconstructor{base} \coqdocnotation{=} \coqdocconstructor{base}) 1 \coqdocaxiom{surf} \coqdocvariable{x}\coqdocnotation{)\^{}})\coqdoceol
\coqdocindent{3.00em}
\coqdocnotation{=}\coqdoceol
\coqdocindent{3.00em}
\coqdocnotation{(}\coqdocdefinition{ap} \coqref{Ch06.SS1 to S2}{\coqdocdefinition{SS1\_to\_S2}} (\coqdocdefinition{ap} \coqref{Ch06.S2 to SS1}{\coqdocdefinition{S2\_to\_SS1}} (\coqdocdefinition{S1\_rectnd} (\coqdocconstructor{base} \coqdocnotation{=} \coqdocconstructor{base}) 1 \coqdocaxiom{surf} \coqdocvariable{x}))\coqdocnotation{)\^{}}\coqdoceol
\coqdocindent{1.00em}
)).\coqdoceol
\coqdocindent{1.00em}
\coqdoctac{intro} \coqdocvar{x}.\coqdoceol
\coqdocindent{1.00em}
\coqdoctac{refine} (\coqdocvar{\_} \coqdocnotation{@} \coqdocnotation{(}\coqdocdefinition{ap\_V} \coqdocvar{\_} \coqdocvar{\_}\coqdocnotation{)}). \coqdocvar{f\_ap}.\coqdoceol
\coqdocindent{1.00em}
\coqdoctac{refine} (\coqdocvar{\_} \coqdocnotation{@} \coqdocnotation{(}\coqdocdefinition{ap\_V} \coqdocvar{\_} \coqdocvar{\_}\coqdocnotation{)}). \coqdoctac{reflexivity}.\coqdoceol
\coqdocindent{1.00em}
\coqdoctac{transitivity} (\coqdoceol
\coqdocindent{3.00em}
\coqdocnotation{(}\coqdocvar{H} \coqdocconstructor{Circle.base}\coqdocnotation{)}\coqdoceol
\coqdocindent{3.00em}
\coqdocnotation{@} \coqdocdefinition{ap} (\coqdockw{fun} \coqdocvar{x} : \coqdocinductive{S1} \ensuremath{\Rightarrow} \coqdocnotation{(}\coqdocdefinition{ap} \coqref{Ch06.SS1 to S2}{\coqdocdefinition{SS1\_to\_S2}} (\coqdocdefinition{ap} \coqref{Ch06.S2 to SS1}{\coqdocdefinition{S2\_to\_SS1}} (\coqdocdefinition{S1\_rectnd} (\coqdocconstructor{base} \coqdocnotation{=} \coqdocconstructor{base}) 1 \coqdocaxiom{surf} \coqdocvariable{x}))\coqdocnotation{)\^{}}) \coqdoceol
\coqdocindent{4.00em}
\coqdocaxiom{loop}\coqdoceol
\coqdocindent{3.00em}
\coqdocnotation{@} \coqdocnotation{(}\coqdocvar{H} \coqdocconstructor{Circle.base}\coqdocnotation{)\^{}}\coqdoceol
\coqdocindent{1.00em}
).\coqdoceol
\coqdocindent{1.00em}
\coqdoctac{apply} \coqdocdefinition{moveL\_pV}. \coqdoctac{apply} (\coqdocdefinition{concat\_Ap} \coqdocvar{H} \coqdocaxiom{loop}).\coqdoceol
\coqdocindent{1.00em}
\coqdoctac{simpl}. \coqdocvar{hott\_simpl}. \coqdoctac{clear} \coqdocvar{H}.\coqdoceol
\coqdocindent{1.00em}
\coqdoctac{refine} (\coqdocnotation{(}\coqref{Ch06.ap inv}{\coqdocdefinition{ap\_inv}} \coqdocaxiom{loop} \coqdoceol
\coqdocindent{9.00em}
(\coqdockw{fun} \coqdocvar{x} \ensuremath{\Rightarrow} \coqdocdefinition{ap} \coqref{Ch06.SS1 to S2}{\coqdocdefinition{SS1\_to\_S2}} (\coqdocdefinition{ap} \coqref{Ch06.S2 to SS1}{\coqdocdefinition{S2\_to\_SS1}} (\coqdocdefinition{S1\_rectnd} (\coqdocconstructor{base} \coqdocnotation{=} \coqdocconstructor{base}) 1 \coqdocaxiom{surf} \coqdocvariable{x})))\coqdoceol
\coqdocindent{9.00em}
\coqdocnotation{)} \coqdocnotation{@} \coqdocvar{\_}).\coqdoceol
\coqdocindent{1.00em}
\coqdocvar{f\_ap}.\coqdoceol
\coqdocemptyline
\coqdocindent{1.00em}
\begin{coqdoccomment}
\coqdocindent{0.50em}
reduce\coqdocindent{0.50em}
to\coqdocindent{0.50em}
SS1\_to\_S2\coqdocindent{0.50em}
(S2\_to\_SS1\coqdocindent{0.50em}
surf)\coqdocindent{0.50em}
=\coqdocindent{0.50em}
surf\coqdocindent{0.50em}
\end{coqdoccomment}
\coqdoceol
\coqdocindent{1.00em}
\coqdoctac{refine} (\coqdocnotation{(}\coqref{Ch06.bar}{\coqdoclemma{bar}} \coqdocvar{\_} \coqdocvar{\_} \coqdocvar{\_} \coqdocvar{\_} \coqdocvar{\_} \coqdocvar{\_} \coqdocvar{\_} \coqdocvar{\_} \coqdocaxiom{loop}\coqdocnotation{)} \coqdocnotation{@} \coqdocvar{\_}).\coqdoceol
\coqdocindent{1.00em}
\coqdoctac{refine} (\coqdocnotation{(}\coqref{Ch06.ap03}{\coqdocdefinition{ap03}} \coqdocvar{\_} (\coqref{Ch06.bar}{\coqdoclemma{bar}} \coqdocvar{\_} \coqdocvar{\_} \coqdocvar{\_} \coqdocvar{\_} \coqdocvar{\_} \coqdocvar{\_} \coqdocvar{\_} \coqdocvar{\_} \coqdocaxiom{loop})\coqdocnotation{)} \coqdocnotation{@} \coqdocvar{\_}).\coqdoceol
\coqdocindent{1.00em}
\coqdoctac{refine} (\coqdocnotation{(}\coqref{Ch06.ap03}{\coqdocdefinition{ap03}} \coqdocvar{\_} (\coqref{Ch06.ap03}{\coqdocdefinition{ap03}} \coqdocvar{\_} (\coqdocdefinition{S1\_rectnd\_beta\_loop} \coqdocvar{\_} \coqdocvar{\_} \coqdocvar{\_}))\coqdocnotation{)} \coqdocnotation{@} \coqdocvar{\_}).\coqdoceol
\coqdocemptyline
\coqdocindent{1.00em}
\begin{coqdoccomment}
\coqdocindent{0.50em}
compute\coqdocindent{0.50em}
the\coqdocindent{0.50em}
action\coqdocindent{0.50em}
of\coqdocindent{0.50em}
S2\_to\_SS1\coqdocindent{0.50em}
\end{coqdoccomment}
\coqdoceol
\coqdocindent{1.00em}
\coqdoctac{refine} (\coqdocnotation{(}\coqref{Ch06.ap03}{\coqdocdefinition{ap03}} \coqdocvar{\_} (\coqdocdefinition{S2\_rectnd\_beta\_surf} \coqdocvar{\_} \coqdocvar{\_} \coqdocvar{\_})\coqdocnotation{)} \coqdocnotation{@} \coqdocvar{\_}).\coqdoceol
\coqdocindent{1.00em}
\coqdocvar{hott\_simpl}.\coqdoceol
\coqdocindent{1.00em}
\coqdoctac{refine} (\coqdocnotation{(}\coqdocdefinition{ap02\_pp} \coqdocvar{\_} \coqdocvar{\_} \coqdocvar{\_}\coqdocnotation{)} \coqdocnotation{@} \coqdocvar{\_}). \coqdoctac{apply} \coqdocdefinition{moveR\_pM}.\coqdoceol
\coqdocindent{1.00em}
\coqdoctac{refine} (\coqdocnotation{(}\coqdocdefinition{ap02\_pp} \coqdocvar{\_} \coqdocvar{\_} \coqdocvar{\_}\coqdocnotation{)} \coqdocnotation{@} \coqdocvar{\_}). \coqdoctac{apply} \coqdocdefinition{moveR\_Mp}.\coqdoceol
\coqdocindent{1.00em}
\coqdoctac{refine} (\coqdocnotation{(}\coqref{Ch06.ap03}{\coqdocdefinition{ap03}} \coqdocvar{\_} (\coqref{Ch06.whiskerR ap}{\coqdoclemma{whiskerR\_ap}} \coqdocvar{\_} \coqdocvar{\_} \coqdocvar{\_})\coqdocnotation{)} \coqdocnotation{@} \coqdocvar{\_}).\coqdoceol
\coqdocindent{1.00em}
\coqdoctac{refine} (\coqdocnotation{(}\coqref{Ch06.ap03}{\coqdocdefinition{ap03}} \coqdocvar{\_} (\coqref{Ch06.ap concat}{\coqdoclemma{ap\_concat}} \coqdocvar{\_} \coqdocvar{\_} \coqdocvar{\_} \coqdocvar{\_} \coqdocvar{\_} \coqdocvar{\_} \coqdocvar{\_} \coqdocaxiom{merid} \coqdocvar{\_})\coqdocnotation{)} \coqdocnotation{@} \coqdocvar{\_}).\coqdoceol
\coqdocindent{1.00em}
\coqdocvar{hott\_simpl}.\coqdoceol
\coqdocindent{1.00em}
\coqdoctac{refine} (\coqdocnotation{(}\coqdocdefinition{ap02\_p2p} \coqdocvar{\_} \coqdocvar{\_} \coqdocvar{\_}\coqdocnotation{)} \coqdocnotation{@} \coqdocvar{\_}). \coqdocvar{hott\_simpl}. \coqdoctac{apply} \coqdocdefinition{moveR\_pV}. \coqdoctac{apply} \coqdocdefinition{moveR\_pM}.\coqdoceol
\coqdocemptyline
\coqdocindent{1.00em}
\begin{coqdoccomment}
\coqdocindent{0.50em}
eliminate\coqdocindent{0.50em}
\coqdocvar{ap\_pp}s\coqdocindent{0.50em}
\end{coqdoccomment}
\coqdoceol
\coqdocindent{1.00em}
\coqdoctac{refine} (\coqdocnotation{(}\coqref{Ch06.ap pp pV}{\coqdocdefinition{ap\_pp\_pV}} \coqdocvar{\_} \coqdocvar{\_}\coqdocnotation{)} \coqdocnotation{@} \coqdocvar{\_}). \coqdoctac{apply} \coqdocdefinition{moveL\_pV}. \coqdoctac{apply} \coqdocdefinition{moveL\_Mp}.\coqdoceol
\coqdocindent{1.00em}
\coqdoctac{refine} (\coqdocvar{\_} \coqdocnotation{@} \coqdocnotation{(}\coqref{Ch06.ap pp pV}{\coqdocdefinition{ap\_pp\_pV}} \coqdocvar{\_} \coqdocvar{\_}\coqdocnotation{)\^{}}). \coqdoctac{repeat} (\coqdoctac{apply} \coqdocdefinition{moveR\_pM}).\coqdoceol
\coqdocindent{1.00em}
\coqdoctac{refine} (\coqdocnotation{(}\coqdocdefinition{inv\_pp} \coqdocvar{\_} \coqdocvar{\_}\coqdocnotation{)} \coqdocnotation{@} \coqdocvar{\_}). \coqdoctac{apply} \coqdocdefinition{moveR\_Vp}.\coqdoceol
\coqdocindent{1.00em}
\coqdoctac{refine} (\coqdocnotation{(}\coqdocdefinition{inv\_pp} \coqdocvar{\_} \coqdocvar{\_}\coqdocnotation{)} \coqdocnotation{@} \coqdocvar{\_}). \coqdoctac{apply} \coqdocdefinition{moveR\_pV}. \coqdocvar{hott\_simpl}.\coqdoceol
\coqdocindent{1.00em}
\coqdoctac{repeat} (\coqdoctac{apply} \coqdocdefinition{moveL\_pM}). \coqdoctac{apply} \coqdocdefinition{moveR\_pM}. \coqdocvar{hott\_simpl}.\coqdoceol
\coqdocindent{1.00em}
\coqdoctac{apply} \coqdocdefinition{moveL\_Mp}. \coqdoctac{refine} (\coqdocvar{\_} \coqdocnotation{@} \coqdocnotation{(}\coqref{Ch06.ap02 V}{\coqdocdefinition{ap02\_V}} \coqdocvar{\_} \coqdocvar{\_}\coqdocnotation{)}).\coqdoceol
\coqdocindent{1.00em}
\coqdoctac{refine} (\coqdocvar{\_} \coqdocnotation{@} \coqdocnotation{(}\coqref{Ch06.ap03}{\coqdocdefinition{ap03}} \coqdocvar{\_} \coqdocnotation{(}\coqdocdefinition{inv\_V} \coqdocvar{\_}\coqdocnotation{)\^{}}\coqdocnotation{)}). \coqdoctac{apply} \coqdocdefinition{moveR\_Vp}. \coqdocvar{hott\_simpl}.\coqdoceol
\coqdocindent{1.00em}
\coqdoctac{apply} \coqdocdefinition{moveR\_pM}. \coqdocvar{hott\_simpl}.\coqdoceol
\coqdocindent{1.00em}
\coqdoctac{repeat} (\coqdoctac{refine} (\coqdocnotation{(}\coqdocdefinition{concat\_pp\_p} \coqdocvar{\_} \coqdocvar{\_} \coqdocvar{\_}\coqdocnotation{)} \coqdocnotation{@} \coqdocvar{\_})). \coqdoctac{apply} \coqdocdefinition{moveR\_Vp}. \coqdoctac{apply} \coqdocdefinition{moveR\_Vp}.\coqdoceol
\coqdocindent{1.00em}
\coqdoctac{apply} \coqdocdefinition{moveR\_Vp}. \coqdoctac{refine} (\coqdocnotation{(}\coqdocdefinition{concat\_concat2} \coqdocvar{\_} \coqdocvar{\_} \coqdocvar{\_} \coqdocvar{\_}\coqdocnotation{)} \coqdocnotation{@} \coqdocvar{\_}).\coqdoceol
\coqdocindent{1.00em}
\coqdoctac{apply} \coqdocdefinition{moveL\_Mp}. \coqdoctac{apply} \coqdocdefinition{moveR\_pM}. \coqdoctac{refine} (\coqdocnotation{(}\coqref{Ch06.inv p2p}{\coqdocdefinition{inv\_p2p}} \coqdocvar{\_} \coqdocvar{\_}\coqdocnotation{)} \coqdocnotation{@} \coqdocvar{\_}). \coqdoctac{apply} \coqdocdefinition{moveL\_pV}.\coqdoceol
\coqdocindent{1.00em}
\coqdoctac{refine} (\coqdocnotation{(}\coqdocdefinition{concat\_concat2} \coqdocvar{\_} \coqdocvar{\_} \coqdocvar{\_} \coqdocvar{\_}\coqdocnotation{)} \coqdocnotation{@} \coqdocvar{\_}). \coqdocvar{hott\_simpl}.\coqdoceol
\coqdocemptyline
\coqdocindent{1.00em}
\begin{coqdoccomment}
\coqdocindent{0.50em}
eliminate\coqdocindent{0.50em}
the\coqdocindent{0.50em}
\coqdocvar{concat\_pV}s\coqdocindent{0.50em}
\end{coqdoccomment}
\coqdoceol
\coqdocindent{1.00em}
\coqdocvar{transparent} \coqdoctac{assert} (\coqdocvar{r} : (\coqdoceol
\coqdocindent{2.00em}
\coqdocdefinition{ap} \coqref{Ch06.SS1 to S2}{\coqdocdefinition{SS1\_to\_S2}} (\coqdocaxiom{merid} \coqdocconstructor{Circle.base}) \coqdocnotation{=} 1\coqdoceol
\coqdocindent{1.00em}
)).\coqdoceol
\coqdocindent{1.00em}
\coqdoctac{change} 1 \coqdockw{with} (\coqdocdefinition{S1\_rectnd} (\coqdocconstructor{base} \coqdocnotation{=} \coqdocconstructor{base}) 1 \coqdocaxiom{surf} \coqdocconstructor{Circle.base}).\coqdoceol
\coqdocindent{1.00em}
\coqdoctac{apply} (\coqdocdefinition{Susp\_comp\_nd\_merid} \coqdocconstructor{Circle.base}).\coqdoceol
\coqdocindent{1.00em}
\coqdoctac{apply} \coqdocdefinition{moveL\_pV}. \coqdoctac{apply} \coqdocdefinition{moveL\_pM}.\coqdoceol
\coqdocindent{1.00em}
\coqdoctac{refine} (\coqdocvar{\_} \coqdocnotation{@} \coqdocnotation{(}\coqref{Ch06.baz}{\coqdocdefinition{baz}} \coqdocvar{r}\coqdocnotation{)\^{}}). \coqdocvar{hott\_simpl}.\coqdoceol
\coqdocindent{1.00em}
\coqdoctac{apply} \coqdocdefinition{moveR\_pV}. \coqdoctac{apply} \coqdocdefinition{moveR\_Mp}.\coqdoceol
\coqdocindent{1.00em}
\coqdoctac{refine} (\coqdocnotation{(}\coqref{Ch06.baz}{\coqdocdefinition{baz}} \coqdocvar{r}\coqdocnotation{)} \coqdocnotation{@} \coqdocvar{\_}). \coqdoctac{apply} \coqdocdefinition{moveL\_Vp}. \coqdocvar{hott\_simpl}.\coqdoceol
\coqdocindent{1.00em}
\coqdoctac{refine} (\coqdocnotation{(}\coqdocdefinition{concat\_concat2} \coqdocvar{\_} \coqdocvar{r} 1 (\coqdocdefinition{inverse2} \coqdocvar{r})\coqdocnotation{)} \coqdocnotation{@} \coqdocvar{\_}). \coqdoctac{simpl}. \coqdocvar{hott\_simpl}.\coqdoceol
\coqdocindent{1.00em}
\coqdoctac{apply} \coqdocdefinition{moveL\_Mp}. \coqdoctac{apply} \coqdocdefinition{moveR\_pM}.\coqdoceol
\coqdocindent{1.00em}
\coqdoctac{refine} (\coqdocnotation{(}\coqref{Ch06.inv p2p}{\coqdocdefinition{inv\_p2p}} \coqdocvar{r} (\coqdocdefinition{inverse2} \coqdocvar{r})\coqdocnotation{)} \coqdocnotation{@} \coqdocvar{\_}).\coqdoceol
\coqdocindent{1.00em}
\coqdoctac{apply} \coqdocdefinition{moveL\_pV}.\coqdoceol
\coqdocindent{1.00em}
\coqdoctac{refine} (\coqdocnotation{(}\coqdocdefinition{concat\_concat2} \coqdocvar{r}\coqdocnotation{\^{}} (\coqdocdefinition{ap02} \coqref{Ch06.SS1 to S2}{\coqdocdefinition{SS1\_to\_S2}} (\coqdocdefinition{ap} \coqdocaxiom{merid} \coqdocaxiom{loop}) \coqdocnotation{@} \coqdocvar{r}) \coqdocnotation{(}\coqdocdefinition{inverse2} \coqdocvar{r}\coqdocnotation{)\^{}} (\coqdocdefinition{inverse2} \coqdocvar{r})\coqdocnotation{)} \coqdocnotation{@} \coqdocvar{\_}).\coqdoceol
\coqdocindent{1.00em}
\coqdocvar{hott\_simpl}.\coqdoceol
\coqdocemptyline
\coqdocindent{1.00em}
\begin{coqdoccomment}
\coqdocindent{0.50em}
de-whisker\coqdocindent{0.50em}
\end{coqdoccomment}
\coqdoceol
\coqdocindent{1.00em}
\coqdoctac{refine} (\coqdocnotation{(}\coqdocdefinition{concat2\_p1} \coqdocvar{\_}\coqdocnotation{)} \coqdocnotation{@} \coqdocvar{\_}).\coqdoceol
\coqdocindent{1.00em}
\coqdoctac{transitivity} (\coqdocnotation{(}\coqdocdefinition{concat\_p1} \coqdocvar{\_}\coqdocnotation{)} \coqdoceol
\coqdocindent{8.00em}
\coqdocnotation{@} \coqdocnotation{((}\coqdocvar{r}\coqdocnotation{\^{}} \coqdocnotation{@} \coqdocdefinition{ap02} \coqref{Ch06.SS1 to S2}{\coqdocdefinition{SS1\_to\_S2}} (\coqdocdefinition{ap} \coqdocaxiom{merid} \coqdocaxiom{loop})\coqdocnotation{)} \coqdocnotation{@} \coqdocvar{r}\coqdocnotation{)} \coqdoceol
\coqdocindent{8.00em}
\coqdocnotation{@} \coqdocnotation{(}\coqdocdefinition{concat\_p1} \coqdocvar{\_}\coqdocnotation{)\^{}}).\coqdoceol
\coqdocindent{1.00em}
\coqdoctac{apply} \coqdocdefinition{moveL\_pV}. \coqdoctac{apply} \coqdocdefinition{moveL\_Mp}.\coqdoceol
\coqdocindent{1.00em}
\coqdoctac{refine} (\coqdocnotation{(}\coqdocdefinition{concat\_p\_pp} \coqdocvar{\_} \coqdocvar{\_} \coqdocvar{\_}\coqdocnotation{)} \coqdocnotation{@} \coqdocvar{\_}).\coqdoceol
\coqdocindent{1.00em}
\coqdoctac{apply} \coqdocdefinition{whiskerR\_p1}. \coqdoctac{simpl}. \coqdocvar{hott\_simpl}.\coqdoceol
\coqdocindent{1.00em}
\coqdoctac{apply} \coqdocdefinition{moveR\_pM}. \coqdoctac{apply} \coqdocdefinition{moveR\_Vp}.\coqdoceol
\coqdocindent{1.00em}
\coqdoctac{unfold} \coqdocvar{r}. \coqdoctac{clear} \coqdocvar{r}.\coqdoceol
\coqdocemptyline
\coqdocindent{1.00em}
\begin{coqdoccomment}
\coqdocindent{0.50em}
compute\coqdocindent{0.50em}
the\coqdocindent{0.50em}
action\coqdocindent{0.50em}
of\coqdocindent{0.50em}
SS1\_to\_S2\coqdocindent{0.50em}
\end{coqdoccomment}
\coqdoceol
\coqdocindent{1.00em}
\coqdoctac{refine} (\coqdocnotation{(}\coqref{Ch06.bar}{\coqdoclemma{bar}} \coqdocvar{\_} \coqdocvar{\_} \coqdocvar{\_} \coqdocvar{\_} \coqdocvar{\_} \coqdocaxiom{merid} \coqdocvar{\_} \coqdocvar{\_} \coqdocvar{\_}\coqdocnotation{)\^{}} \coqdocnotation{@} \coqdocvar{\_}).\coqdoceol
\coqdocindent{1.00em}
\coqdocvar{transparent} \coqdoctac{assert} (\coqdocvar{H} : (\coqdoceol
\coqdocindent{2.00em}
\coqdockw{\ensuremath{\forall}} \coqdocvar{x} : \coqdocinductive{S1}, \coqdocdefinition{ap} \coqref{Ch06.SS1 to S2}{\coqdocdefinition{SS1\_to\_S2}} (\coqdocaxiom{merid} \coqdocvariable{x}) \coqdocnotation{=} \coqdocdefinition{S1\_rectnd} \coqdocvar{\_} 1 \coqdocaxiom{surf} \coqdocvariable{x}                        \coqdoceol
\coqdocindent{1.00em}
)).\coqdoceol
\coqdocindent{1.00em}
\coqdoctac{apply} \coqdocdefinition{Susp\_comp\_nd\_merid}.\coqdoceol
\coqdocindent{1.00em}
\coqdoctac{change} (\coqdocdefinition{Susp\_comp\_nd\_merid} \coqdocconstructor{Circle.base}) \coqdockw{with} (\coqdocvar{H} \coqdocconstructor{Circle.base}).\coqdoceol
\coqdocindent{1.00em}
\coqdoctac{refine} (\coqdocvar{\_} \coqdocnotation{@} \coqdocnotation{(}\coqdocdefinition{concat\_pp\_p} \coqdocvar{\_} \coqdocvar{\_} \coqdocvar{\_}\coqdocnotation{)}). \coqdoctac{apply} \coqdocdefinition{moveL\_pV}.\coqdoceol
\coqdocindent{1.00em}
\coqdoctac{refine} (\coqdocnotation{(}\coqdocdefinition{concat\_Ap} \coqdocvar{H} \coqdocaxiom{loop}\coqdocnotation{)} \coqdocnotation{@} \coqdocvar{\_}). \coqdocvar{f\_ap}.\coqdoceol
\coqdocindent{1.00em}
\coqdoctac{apply} \coqdocdefinition{S1\_rectnd\_beta\_loop}.\coqdoceol
\coqdocemptyline
\coqdocindent{1.00em}
\begin{coqdoccomment}
\coqdocindent{0.50em}
S2\_to\_SS2\coqdocindent{0.50em}
o\coqdocindent{0.50em}
SS1\_to\_S2\coqdocindent{0.50em}
==\coqdocindent{0.50em}
id\coqdocindent{0.50em}
\end{coqdoccomment}
\coqdoceol
\coqdocindent{1.00em}
\coqdoctac{unfold} \coqdocdefinition{Sect}.\coqdoceol
\coqdocindent{1.00em}
\coqdoctac{refine} (\coqdocdefinition{Susp\_rect} (\coqdockw{fun} \coqdocvar{x} \ensuremath{\Rightarrow} \coqref{Ch06.S2 to SS1}{\coqdocdefinition{S2\_to\_SS1}} (\coqref{Ch06.SS1 to S2}{\coqdocdefinition{SS1\_to\_S2}} \coqdocvariable{x}) \coqdocnotation{=} \coqdocvariable{x}) 1 (\coqdocaxiom{merid} \coqdocconstructor{Circle.base}) \coqdocvar{\_}).\coqdoceol
\coqdocemptyline
\coqdocindent{1.00em}
\begin{coqdoccomment}
\coqdocindent{0.50em}
make\coqdocindent{0.50em}
the\coqdocindent{0.50em}
goal\coqdocindent{0.50em}
g(m(y))\coqdocindent{0.50em}
=\coqdocindent{0.50em}
merid(y)\coqdocindent{0.50em}
@\coqdocindent{0.50em}
merid(Circle.base)\^{}\coqdocindent{0.50em}
\end{coqdoccomment}
\coqdoceol
\coqdocindent{1.00em}
\coqdoctac{intro} \coqdocvar{x}.\coqdoceol
\coqdocindent{2.00em}
\coqdoctac{refine} (\coqdocnotation{(}\coqdocdefinition{transport\_paths\_FFlr} \coqdocvar{\_} \coqdocvar{\_}\coqdocnotation{)} \coqdocnotation{@} \coqdocvar{\_}). \coqdocvar{hott\_simpl}.\coqdoceol
\coqdocindent{2.00em}
\coqdoctac{transitivity} (\coqdocdefinition{ap} \coqref{Ch06.S2 to SS1}{\coqdocdefinition{S2\_to\_SS1}} \coqdocnotation{(}\coqdocdefinition{S1\_rectnd} (\coqdocconstructor{base} \coqdocnotation{=} \coqdocconstructor{base}) 1 \coqdocaxiom{surf} \coqdocvar{x}\coqdocnotation{)\^{}} \coqdocnotation{@} \coqdocaxiom{merid} \coqdocvar{x}).\coqdoceol
\coqdocindent{2.00em}
\coqdoctac{repeat} \coqdocvar{f\_ap}.\coqdoceol
\coqdocindent{2.00em}
\coqdoctac{transitivity} \coqdocnotation{(}\coqdocdefinition{ap} \coqref{Ch06.SS1 to S2}{\coqdocdefinition{SS1\_to\_S2}} (\coqdocaxiom{merid} \coqdocvar{x})\coqdocnotation{)\^{}}. \coqdocvar{hott\_simpl}.\coqdoceol
\coqdocindent{2.00em}
\coqdoctac{apply} \coqdocdefinition{inverse2}.\coqdoceol
\coqdocindent{2.00em}
\coqdoctac{apply} \coqdocdefinition{Susp\_comp\_nd\_merid}.\coqdoceol
\coqdocindent{2.00em}
\coqdoctac{apply} \coqdocdefinition{moveR\_pM}.\coqdoceol
\coqdocindent{2.00em}
\coqdoctac{transitivity} \coqdocnotation{(}\coqdocdefinition{ap} \coqref{Ch06.S2 to SS1}{\coqdocdefinition{S2\_to\_SS1}} (\coqdocdefinition{S1\_rectnd} (\coqdocconstructor{base} \coqdocnotation{=} \coqdocconstructor{base}) 1 \coqdocaxiom{surf} \coqdocvar{x})\coqdocnotation{)\^{}}. \coqdocvar{hott\_simpl}.\coqdoceol
\coqdocindent{2.00em}
\coqdoctac{symmetry}. \coqdoctac{transitivity} \coqdocnotation{(}\coqdocaxiom{merid} \coqdocvar{x} \coqdocnotation{@} \coqdocnotation{(}\coqdocaxiom{merid} \coqdocconstructor{Circle.base}\coqdocnotation{)\^{})\^{}}.\coqdoceol
\coqdocindent{2.00em}
\coqdoctac{symmetry}. \coqdoctac{apply} \coqdocdefinition{inv\_pV}. \coqdoctac{apply} \coqdocdefinition{inverse2}. \coqdoctac{symmetry}.\coqdoceol
\coqdocindent{1.00em}
\coqdoctac{generalize} \coqdoctac{dependent} \coqdocvar{x}.\coqdoceol
\coqdocemptyline
\coqdocindent{1.00em}
\begin{coqdoccomment}
\coqdocindent{0.50em}
now\coqdocindent{0.50em}
compute\coqdocindent{0.50em}
\end{coqdoccomment}
\coqdoceol
\coqdocindent{1.00em}
\coqdoctac{refine} (\coqdocdefinition{S1\_rect} \coqdocvar{\_} \coqdocvar{\_} \coqdocvar{\_}).\coqdoceol
\coqdocindent{1.00em}
\coqdoctac{refine} (\coqdocvar{\_} \coqdocnotation{@} \coqdocnotation{(}\coqdocdefinition{concat\_pV} \coqdocvar{\_}\coqdocnotation{)\^{}}). \coqdoctac{reflexivity}.\coqdoceol
\coqdocindent{1.00em}
\coqdoctac{refine} (\coqdocnotation{(}@\coqdocdefinition{transport\_paths\_FlFr} \coqdocinductive{S1} \coqdocvar{\_} \coqdocvar{\_} \coqdocvar{\_} \coqdocvar{\_} \coqdocvar{\_} \coqdocaxiom{loop} \coqdocvar{\_}\coqdocnotation{)} \coqdocnotation{@} \coqdocvar{\_}).\coqdoceol
\coqdocindent{1.00em}
\coqdocvar{hott\_simpl}.\coqdoceol
\coqdocindent{1.00em}
\coqdoctac{apply} \coqdocdefinition{moveR\_pM}. \coqdoctac{apply} \coqdocdefinition{moveR\_pM}. \coqdocvar{hott\_simpl}. \coqdoctac{refine} (\coqdocvar{\_} \coqdocnotation{@} \coqdocnotation{(}\coqdocdefinition{inv\_V} \coqdocvar{\_}\coqdocnotation{)}).\coqdoceol
\coqdocindent{1.00em}
\coqdoctac{apply} \coqdocdefinition{inverse2}.\coqdoceol
\coqdocindent{1.00em}
\coqdoctac{transitivity} (\coqdocnotation{(}\coqdocdefinition{concat\_pV} (\coqdocaxiom{merid} \coqdocconstructor{Circle.base})\coqdocnotation{)\^{}}\coqdoceol
\coqdocindent{8.00em}
\coqdocnotation{@} \coqdocnotation{(}\coqdocdefinition{whiskerR} (\coqdocdefinition{ap} \coqdocaxiom{merid} \coqdocaxiom{loop}) \coqdocnotation{(}\coqdocaxiom{merid} \coqdocconstructor{Circle.base}\coqdocnotation{)\^{}}\coqdocnotation{)}\coqdoceol
\coqdocindent{8.00em}
\coqdocnotation{@} \coqdocnotation{(}\coqdocdefinition{concat\_pV} (\coqdocaxiom{merid} \coqdocconstructor{Circle.base})\coqdocnotation{)}).\coqdoceol
\coqdocindent{1.00em}
\coqdoctac{refine} (\coqdocvar{\_} \coqdocnotation{@} \coqdocnotation{(}\coqdocdefinition{inv\_V} \coqdocvar{\_}\coqdocnotation{)}).\coqdoceol
\coqdocindent{1.00em}
\coqdoctac{refine} (\coqdocvar{\_} \coqdocnotation{@} \coqdocnotation{(}\coqdocdefinition{S2\_rectnd\_beta\_surf} \coqdocvar{\_} \coqdocvar{\_} \coqdocvar{\_}\coqdocnotation{)}).\coqdoceol
\coqdocindent{1.00em}
\coqdoctac{refine} (\coqdocnotation{(}\coqref{Ch06.ap ap  ap02 ap}{\coqdoclemma{ap\_ap\_\_ap02\_ap}} \coqdocvar{\_} \coqdocvar{\_} \coqdocvar{\_}\coqdocnotation{)} \coqdocnotation{@} \coqdocvar{\_}).\coqdoceol
\coqdocindent{1.00em}
\coqdocvar{f\_ap}. \coqdoctac{apply} \coqdocdefinition{S1\_rectnd\_beta\_loop}.\coqdoceol
\coqdocindent{1.00em}
\coqdoctac{refine} (\coqdocvar{\_} \coqdocnotation{@} \coqdocnotation{(}\coqdocdefinition{inv\_pp} \coqdocvar{\_} \coqdocvar{\_}\coqdocnotation{)\^{}}). \coqdoctac{refine} (\coqdocnotation{(}\coqdocdefinition{concat\_pp\_p} \coqdocvar{\_} \coqdocvar{\_} \coqdocvar{\_}\coqdocnotation{)} \coqdocnotation{@} \coqdocvar{\_}). \coqdoctac{apply} \coqdocdefinition{whiskerL}.\coqdoceol
\coqdocindent{1.00em}
\coqdoctac{refine} (\coqdocvar{\_} \coqdocnotation{@} \coqdocnotation{(}\coqdocdefinition{inv\_pp} \coqdocvar{\_} \coqdocvar{\_}\coqdocnotation{)\^{}}). \coqdocvar{hott\_simpl}. \coqdoctac{apply} \coqdocdefinition{whiskerR}.\coqdoceol
\coqdocindent{1.00em}
\coqdoctac{apply} \coqref{Ch06.whiskerR ap}{\coqdoclemma{whiskerR\_ap}}.\coqdoceol
\coqdocnoindent
\coqdockw{Defined}.\coqdoceol
\coqdocemptyline
\end{coqdoccode}
\exer{6.3}{217} 
Prove that the torus $T^{2}$ as defined in \S6.6 
is equivalent to $\Sn^{1} \times \Sn^{1}$.


 \exer{6.4}{217} 
Define dependent $n$-loops and the action of dependent functions on $n$-loops,
and write down the induction principle for the $n$-spheres as defined at the
end of \S6.4.


 \exer{6.5}{217}
Prove that $\susp\Sn^{n} \eqvsym \Sn^{n+1}$, using the definition of $\Sn^{n}$
in terms of $\Omega^{n}$ from \S6.4.


 \exer{6.6}{217} 
Prove that if the type $\Sn^{2}$ belongs to some universe $\UU$, then $\UU$ is
not a 2-type.


 \exer{6.7}{217} 
Prove that if $G$ is a monoid and $x : G$, then $\sm{y:G}((x \cdot y = e)
\times (y \cdot x = e))$ is a mere proposition.  Conclude, using the principle
of unique choice, that it would be equivalent to define a group to be a monoid
such that for every $x : G$, there merely exists a $y : G$ such that $x \cdot y
= e$ and $y \cdot x = e$.


 \exer{6.8}{217} 
Prove that if $A$ is a set, then $\lst{A}$ is a monoid.  Then complete the
proof of Lemma 6.11.5.


 \exer{6.9}{217} 
Assuming $\LEM{}$, construct a family $f : \prd{X : \UU} (X \to X)$ such that
$f_{\bool} : \bool \to \bool$ is the nonidentity automorphism.


 \exer{6.10}{218} 
Show that the map constructed in Lemma 6.3.2 is in fact a quasi-inverse to
$\happly$, so that the interval type implies the full function extensionality
axiom.


 \exer{6.11}{218} 
Prove the universal property of suspension:
\[
  \left(\susp A \to B \right)
  \eqvsym
  \left(\sm{b_{n} : B}\sm{b_{s} : B} (A \to (b_{n} = b_{s}))\right)
\]


 \exer{6.12}{218} 
Show that $\Z \eqvsym \N + \unit + \N$.  Show that if we were to define $\Z$ as
$\N + \unit + \N$, then we could obtain Lemma 6.10.12 with judgmental
computation rules.
\begin{coqdoccode}
\end{coqdoccode}
